"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6737],{27801:function(e,n){n.Z={"0x4D89eBf7b1F66806A4C99Df71D22b7b9efC6bB0b":{active:!1,address:"0x4D89eBf7b1F66806A4C99Df71D22b7b9efC6bB0b",avatar:"",banner:{large:"",small:""},createdAt:"",creatorAddress:"",creatorFee:"",description:"",id:"0x4d89ebf7b1f66806a4c99df71d22b7b9efc6bb0b",name:"Baked Potatoes",numberTokensListed:"76",owner:"0xCd1B0abBc3E55E91FCC5AEE393525e68478C2952",symbol:"POT",totalSupply:"",totalTrades:"",totalVolumeBNB:"",tradingFee:"",updatedAt:"",verified:!0,whitelistChecker:""},"0xC448498DDC536ad6F5d437325725dCf504d2d964":{active:!1,address:"0xC448498DDC536ad6F5d437325725dCf504d2d964",avatar:"",banner:{large:"",small:""},createdAt:"",creatorAddress:"",creatorFee:"",description:"",id:"0xC448498DDC536ad6F5d437325725dCf504d2d964",name:"Catbread",numberTokensListed:"9385",owner:"0xC9A81c56eb07397989907fa6BcC121B593d8f141",symbol:"CATBREADNFT",totalSupply:"",totalTrades:"",totalVolumeBNB:"",tradingFee:"",updatedAt:"",verified:!0,whitelistChecker:""},"0x44d85770aEa263F9463418708125Cd95e308299B":{active:!1,address:"0x44d85770aEa263F9463418708125Cd95e308299B",avatar:"",banner:{large:"",small:""},createdAt:"",creatorAddress:"",creatorFee:"",description:"",id:"0x44d85770aEa263F9463418708125Cd95e308299B",name:"BornBadBoys",numberTokensListed:"1846",owner:"0x952B8A6AC7957B769C6cAD934b128f2d27368565",symbol:"BBB",totalSupply:"",totalTrades:"",totalVolumeBNB:"",tradingFee:"",updatedAt:"",verified:!0,whitelistChecker:""}}},46737:function(e,n,t){t.d(n,{HD:function(){return eR},nh:function(){return eJ},LU:function(){return ex},nP:function(){return eH},_N:function(){return ed},Du:function(){return eU},iE:function(){return e0},bG:function(){return el},A8:function(){return eQ},dk:function(){return eW},Um:function(){return eY},Z1:function(){return eq},M2:function(){return eG},hb:function(){return ep},Rq:function(){return eh},_C:function(){return ey},T5:function(){return eO},DS:function(){return eS},tU:function(){return e$},rD:function(){return eV},AC:function(){return ej},_z:function(){return eM}});var r=t(98788),o=t(70865),c=t(96670),s=t(87394),a=t(92228),i=t(50930),u=t(5163),l=t(6647),d=t(56642),f=t(10494),h=t(25152),p=t(5305),y=t(53400),k=t(2689),b=t.n(k),m=t(3440),v=t.n(m),g=t(80405),A=t(74086),B=t(27801),w=t(36806),F=t(18426),I=t(70627),C=t(60290),_=t(10017),T=t.n(_),Z=t(42208),N=t.n(Z),D=t(36402),L=t.n(D),P=t(88587),q="\n  tokenId\n  metadataUrl\n  currentAskPrice\n  currentSeller\n  latestTradedPriceInBNB\n  tradeVolumeBNB\n  totalTrades\n  isTradable\n  updatedAt\n  otherId\n  collection {\n    id\n  }\n",S="\n  id\n  block\n  timestamp\n  askPrice\n  netPrice\n  withBNB\n  buyer {\n    id\n  }\n  seller {\n    id\n  }\n",$="\n  id\n  name\n  symbol\n  active\n  totalTrades\n  totalVolumeBNB\n  numberTokensListed\n  creatorAddress\n  tradingFee\n  creatorFee\n  whitelistChecker\n";function E(){var e=(0,a.Z)(["\n        query getCollectionData($collectionAddress: String!) {\n          collection(id: $collectionAddress) {\n            ","\n          }\n        }\n      "]);return E=function(){return e},e}function O(){var e=(0,a.Z)(["\n        {\n          collections {\n            ","\n          }\n        }\n      "]);return O=function(){return e},e}function x(){var e=(0,a.Z)(["\n        query getNftCollectionMarketData($collectionAddress: String!) {\n          collection(id: $collectionAddress) {\n            id\n            nfts(orderBy:",", skip: $skip, first: $first) {\n             ","\n            }\n          }\n        }\n      "]);return x=function(){return e},e}function H(){var e=(0,a.Z)(["\n        query getNftsByBunnyIdSg($collectionAddress: String!, $where: NFT_filter, $orderDirection: String!) {\n          nfts(first: 30, where: $where, orderBy: currentAskPrice, orderDirection: $orderDirection) {\n            ","\n          }\n        }\n      "]);return H=function(){return e},e}function Y(){var e=(0,a.Z)(["\n        query getMarketDataForTokenIds($collectionAddress: String!, $where: NFT_filter) {\n          collection(id: $collectionAddress) {\n            id\n            nfts(first: 1000, where: $where) {\n              ","\n            }\n          }\n        }\n      "]);return Y=function(){return e},e}function M(){var e=(0,a.Z)(["\n        query getNftsMarketData($first: Int, $skip: Int!, $where: NFT_filter, $orderBy: NFT_orderBy, $orderDirection: OrderDirection) {\n          nfts(where: $where, first: $first, orderBy: $orderBy, orderDirection: $orderDirection, skip: $skip) {\n            ","\n            transactionHistory {\n              ","\n            }\n          }\n        }\n      "]);return M=function(){return e},e}function U(){var e=(0,a.Z)(["\n        query getAllPancakeBunniesLowestPrice {\n          ","\n        }\n      "]);return U=function(){return e},e}function j(){var e=(0,a.Z)(["\n        query getAllPancakeBunniesLowestPrice {\n          ","\n        }\n      "]);return j=function(){return e},e}function W(){var e=(0,a.Z)(["\n        query getUserActivity($address: String!) {\n          user(id: $address) {\n            buyTradeHistory(first: 250, orderBy: timestamp, orderDirection: desc) {\n              ","\n              nft {\n                ","\n              }\n            }\n            sellTradeHistory(first: 250, orderBy: timestamp, orderDirection: desc) {\n              ","\n              nft {\n                ","\n              }\n            }\n            askOrderHistory(first: 500, orderBy: timestamp, orderDirection: desc) {\n              id\n              block\n              timestamp\n              orderType\n              askPrice\n              nft {\n                ","\n              }\n            }\n          }\n        }\n      "]);return W=function(){return e},e}function J(){var e=(0,a.Z)(["\n        query getCollectionActivity {\n          ","\n          ","\n        }\n      "]);return J=function(){return e},e}function G(){var e=(0,a.Z)(["\n        query getCollectionActivity($tokenId: BigInt!, $address: ID!) {\n          nfts(where:{tokenId: $tokenId, collection: $address}) {\n            transactionHistory(orderBy: timestamp, orderDirection: desc) {\n              ","\n                nft {\n                  ","\n                }\n            }\n            askHistory(orderBy: timestamp, orderDirection: desc) {\n                id\n                block\n                timestamp\n                orderType\n                askPrice\n                seller {\n                  id\n                }\n                nft {\n                  ","\n                }\n            }\n          }\n        }\n      "]);return G=function(){return e},e}function V(){var e=(0,a.Z)(["\n        query getLatestNftMarketData($first: Int) {\n          nfts(where: { isTradable: true }, orderBy: updatedAt , orderDirection: desc, first: $first) {\n            ","\n            collection {\n              id\n            }\n          }\n        }\n      "]);return V=function(){return e},e}var R,z,X,K,Q,ee,en,et,er,eo,ec,es,ea,ei=(R=(0,r.Z)(function(){var e,n;return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,fetch("".concat(f.C1,"/collections"))];case 1:if(!(e=n.sent()).ok)return[3,3];return[4,e.json()];case 2:return[2,n.sent()];case 3:return console.error("Failed to fetch NFT collections",e.statusText),[2,null]}})}),function(){return R.apply(this,arguments)}),eu=(z=(0,r.Z)(function(e){var n,t,r;return(0,u.__generator)(this,function(t){switch(t.label){case 0:if(!((n=e.filter(function(e){return null==e?void 0:e.address}).map(function(e){return{address:e.address.toLowerCase(),name:"totalSupply"}})).length>0))return[3,2];return[4,(0,h.v)({abi:y,calls:n,options:{requireSuccess:!1}})];case 1:return[2,t.sent().flat().map(function(e){return e?e.toNumber():0})];case 2:return[2,[]]}})}),function(e){return z.apply(this,arguments)}),el=(X=(0,r.Z)(function(){var e,n,t,r,a,i,l,d;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,Promise.all([ei(),eb()])];case 1:return n=(e=s.Z.apply(void 0,[u.sent(),2]))[0],t=e[1],[4,eu(a=null!==(r=null==n?void 0:n.data)&&void 0!==r?r:[])];case 2:return i=u.sent(),[2,eX(a.map(function(e,n){var t=Number(null==e?void 0:e.totalSupply)||0,r=i[n];return(0,c.Z)((0,o.Z)({},e),{totalSupply:Math.max(t,r).toString()})}),t)];case 3:return d=u.sent(),console.error("Unable to fetch data:",d),[2,null];case 4:return[2]}})}),function(){return X.apply(this,arguments)}),ed=(K=(0,r.Z)(function(e){var n,t,r,a,i,l,d,f;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,Promise.all([ef(e),ek(e)])];case 1:return t=(n=s.Z.apply(void 0,[u.sent(),2]))[0],r=n[1],[4,eu([t])];case 2:return a=u.sent(),i=Number(null==t?void 0:t.totalSupply)||0,l=a[0],[2,eX([(0,c.Z)((0,o.Z)({},t),{totalSupply:Math.max(i,l).toString()})],[r])];case 3:return f=u.sent(),console.error("Unable to fetch data:",f),[2,null];case 4:return[2]}})}),function(e){return K.apply(this,arguments)}),ef=(Q=(0,r.Z)(function(e){var n,t;return(0,u.__generator)(this,function(t){switch(t.label){case 0:return[4,fetch("".concat(f.C1,"/collections/").concat(e))];case 1:if(!(n=t.sent()).ok)return[3,3];return[4,n.json()];case 2:return[2,t.sent().data];case 3:return console.error("API: Failed to fetch NFT collection ".concat(e),n.statusText),[2,null]}})}),function(e){return Q.apply(this,arguments)}),eh=(ee=(0,r.Z)(function(e){var n,t,r,s,a,i,l,d,h,y,k=arguments;return(0,u.__generator)(this,function(u){switch(u.label){case 0:n=k.length>1&&void 0!==k[1]?k[1]:100,t=k.length>2&&void 0!==k[2]?k[2]:1,r=(0,p.UJ)(e)===w.J,s="".concat(f.C1,"/collections/").concat(e,"/tokens").concat(r?"":"?page=".concat(t,"&size=").concat(n)),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,fetch(s)];case 2:if(!(a=u.sent()).ok)return[3,4];return[4,a.json()];case 3:return i=u.sent(),l=N()(i.attributesDistribution,Boolean),d=N()(i.data,Boolean),h=L()(d),[2,(0,c.Z)((0,o.Z)({},i),{total:h,attributesDistribution:l,data:d})];case 4:return console.error("API: Failed to fetch NFT tokens for ".concat(e," collection"),a.statusText),[2,null];case 5:return y=u.sent(),console.error("API: Failed to fetch NFT tokens for ".concat(e," collection"),y),[2,null];case 6:return[2]}})}),function(e){return ee.apply(this,arguments)}),ep=(en=(0,r.Z)(function(e,n){var t,r;return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,fetch("".concat(f.C1,"/collections/").concat(e,"/tokens/").concat(n))];case 1:if(!(t=r.sent()).ok)return[3,3];return[4,t.json()];case 2:return[2,r.sent().data];case 3:return console.error("API: Can't fetch NFT token ".concat(n," in ").concat(e),t.status),[2,null]}})}),function(e,n){return en.apply(this,arguments)}),ey=(et=(0,r.Z)(function(e){var n,t;return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(e){return ep(e.collectionAddress,e.tokenId)}))];case 1:return[2,n.sent().filter(function(e){return e}).map(function(n,t){return{tokenId:n.tokenId,name:n.name,collectionName:n.collection.name,collectionAddress:e[t].collectionAddress,description:n.description,attributes:n.attributes,createdAt:n.createdAt,updatedAt:n.updatedAt,image:n.image}})]}})}),function(e){return et.apply(this,arguments)}),ek=(er=(0,r.Z)(function(e){var n,t;return(0,u.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,l.request)(f.Bd,(0,l.gql)(E(),$),{collectionAddress:e.toLowerCase()})];case 1:return[2,n.sent().collection];case 2:return t=n.sent(),console.error("Failed to fetch collection",t),[2,null];case 3:return[2]}})}),function(e){return er.apply(this,arguments)}),eb=(eo=(0,r.Z)(function(){var e,n;return(0,u.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,(0,l.request)(f.Bd,(0,l.gql)(O(),$))];case 1:return[2,e.sent().collections];case 2:return n=e.sent(),console.error("Failed to fetch NFT collections",n),[2,[]];case 3:return[2]}})}),function(){return eo.apply(this,arguments)});(0,r.Z)(function(e){var n,t,r,o,c,s=arguments;return(0,u.__generator)(this,function(o){switch(o.label){case 0:n=s.length>1&&void 0!==s[1]?s[1]:1e3,t=s.length>2&&void 0!==s[2]?s[2]:0,r=(0,p.UJ)(e)===w.J,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,l.request)(f.Bd,(0,l.gql)(x(),r?"updatedAt":"tokenId",q),{collectionAddress:e.toLowerCase(),skip:t,first:n})];case 2:return[2,o.sent().collection.nfts];case 3:return c=o.sent(),console.error("Failed to fetch NFTs from collection",c),[2,[]];case 4:return[2]}})}),(0,r.Z)(function(e,n,t){var r,o,c;return(0,u.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),r=n.length>0?{otherId:e,isTradable:!0,tokenId_not_in:n}:{otherId:e,isTradable:!0},[4,(0,l.request)(f.Bd,(0,l.gql)(H(),q),{collectionAddress:w.J.toLowerCase(),where:r,orderDirection:t})];case 1:return[2,o.sent().nfts];case 2:return c=o.sent(),console.error("Failed to fetch collection NFTs for bunny id ".concat(e),c),[2,[]];case 3:return[2]}})});var em,ev,eg,eA,eB,ew,eF,eI,eC,e_,eT,eZ,eN,eD,eL,eP,eq=(ea=(0,r.Z)(function(e,n){var t,r;return(0,u.__generator)(this,function(t){switch(t.label){case 0:if(t.trys.push([0,2,,3]),0===n.length)return[2,[]];return[4,(0,l.request)(f.Bd,(0,l.gql)(Y(),q),{collectionAddress:e.toLowerCase(),where:{tokenId_in:n}})];case 1:return[2,t.sent().collection.nfts];case 2:return r=t.sent(),console.error("Failed to fetch market data for NFTs stored tokens",r),[2,[]];case 3:return[2]}})}),function(e,n){return ea.apply(this,arguments)}),eS=(em=(0,r.Z)(function(e,n){var t,r,o,c;return(0,u.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,g.X$)().viewAsksByCollectionAndTokenIds(e.toLowerCase(),n)];case 1:if(!(o=null==(r=t.sent())?void 0:r.askInfo))return[2,[]];return[2,o.map(function(t,r){if(!t.seller||!t.price)return null;var o=t.seller,c=o.toLowerCase()!==A.Vc,s=t.price&&(0,F.dp)(t.price);return{collection:{id:e.toLowerCase()},tokenId:n[r],currentSeller:o,isTradable:c,currentAskPrice:s}}).filter(Boolean)];case 2:return c=t.sent(),console.error("Failed to fetch NFTs onchain market data",c),[2,[]];case 3:return[2]}})}),function(e,n){return em.apply(this,arguments)}),e$=(ev=(0,r.Z)(function(e,n){var t,r,o,c;return(0,u.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,g.X$)().viewAsksByCollectionAndTokenIds(e.toLowerCase(),n)];case 1:if(!(o=null==(r=t.sent())?void 0:r.askInfo))return[2,null];return[2,o.map(function(e,t){var r=!!e.seller&&e.seller.toLowerCase()!==A.Vc;return{tokenId:n[t],currentSeller:e.seller,isTradable:r,currentAskPrice:e.price}})];case 2:return c=t.sent(),console.error("Failed to fetch updated NFT market data",c),[2,null];case 3:return[2]}})}),function(e,n){return ev.apply(this,arguments)}),eE=(eg=(0,r.Z)(function(e,n){var t,r,o,c,s,a;return(0,u.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),t=(0,I.D4)(),o=(r=Object.values(e)).map(function(e){return{address:t,name:"viewAsksByCollectionAndSeller",params:[e.address,n,0,1e3]}}),[4,(0,h.v)({abi:C,calls:o,options:{requireSuccess:!1}})];case 1:return[2,c.sent().map(function(e,t){var o;return(null==e?void 0:e.tokenIds)&&(null==e?void 0:e.askInfo)&&(null===(o=r[t])||void 0===o?void 0:o.address)?e.tokenIds.map(function(o,c){if(!o||!e.askInfo[c]||!e.askInfo[c].price)return null;var s=(0,F.dp)(e.askInfo[c].price);return{collection:{id:r[t].address.toLowerCase()},tokenId:o.toString(),account:n,isTradable:!0,currentAskPrice:s}}).filter(Boolean):null}).flat().filter(Boolean)];case 2:return a=c.sent(),console.error("Failed to fetch NFTs onchain market data",a),[2,[]];case 3:return[2]}})}),function(e,n){return eg.apply(this,arguments)}),eO=(eA=(0,r.Z)(function(){var e,n,t,r,o,c,s,a=arguments;return(0,u.__generator)(this,function(c){switch(c.label){case 0:e=a.length>0&&void 0!==a[0]?a[0]:{},n=a.length>1&&void 0!==a[1]?a[1]:1e3,t=a.length>2&&void 0!==a[2]?a[2]:"id",r=a.length>3&&void 0!==a[3]?a[3]:"desc",o=a.length>4&&void 0!==a[4]?a[4]:0,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,(0,l.request)(f.Bd,(0,l.gql)(M(),q,S),{where:e,first:n,skip:o,orderBy:t,orderDirection:r})];case 2:return[2,c.sent().nfts];case 3:return s=c.sent(),console.error("Failed to fetch NFTs market data",s),[2,[]];case 4:return[2]}})}),function(){return eA.apply(this,arguments)}),ex=(eB=(0,r.Z)(function(e){var n,t,r;return(0,u.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=e.map(function(e){return"b".concat(e,":nfts(first: 1, where: { otherId: ").concat(e,", isTradable: true }, orderBy: currentAskPrice, orderDirection: asc) {\n        currentAskPrice\n      }\n    ")}),[4,(0,l.request)(f.Bd,(0,l.gql)(U(),n))];case 1:return t=o.sent(),[2,T()(Object.keys(t).map(function(e){return[e.split("b")[1],t[e].length>0?parseFloat(t[e][0].currentAskPrice):1/0,]}))];case 2:return r=o.sent(),console.error("Failed to fetch PancakeBunnies lowest prices",r),[2,{}];case 3:return[2]}})}),function(e){return eB.apply(this,arguments)}),eH=(ew=(0,r.Z)(function(e){var n,t,r;return(0,u.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),n=e.map(function(e){return"b".concat(e,":nfts(first: 1, where: { otherId: ").concat(e,", isTradable: true }, orderBy: updatedAt, orderDirection: desc) {\n        updatedAt\n      }\n    ")}),[4,(0,l.request)(f.Bd,(0,l.gql)(j(),n))];case 1:return t=o.sent(),[2,T()(Object.keys(t).map(function(e){return[e.split("b")[1],t[e].length>0?Number(t[e][0].updatedAt):-1/0,]}))];case 2:return r=o.sent(),console.error("Failed to fetch PancakeBunnies latest market updates",r),[2,{}];case 3:return[2]}})}),function(e){return ew.apply(this,arguments)}),eY=(eF=(0,r.Z)(function(e){var n,t,r,o,c,a=arguments;return(0,u.__generator)(this,function(r){switch(r.label){case 0:n=a.length>1&&void 0!==a[1]?a[1]:"asc",r.label=1;case 1:return r.trys.push([1,3,,4]),[4,eO({collection:e.toLowerCase(),isTradable:!0},1,"currentAskPrice",n)];case 2:if(0===(t=r.sent()).length)return[2,0];return[2,parseFloat((0,s.Z)(t,1)[0].currentAskPrice)];case 3:return c=r.sent(),console.error("Failed to lowest price NFTs in collection ".concat(e),c),[2,0];case 4:return[2]}})}),function(e){return eF.apply(this,arguments)}),eM=(eI=(0,r.Z)(function(e){var n,t;return(0,u.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,l.request)(f.Bd,(0,l.gql)(W(),S,q,S,q,q),{address:e})];case 1:return[2,n.sent().user||{askOrderHistory:[],buyTradeHistory:[],sellTradeHistory:[]}];case 2:return t=n.sent(),console.error("Failed to fetch user Activity",t),[2,{askOrderHistory:[],buyTradeHistory:[],sellTradeHistory:[]}];case 3:return[2]}})}),function(e){return eI.apply(this,arguments)}),eU=(eC=(0,r.Z)(function(e,n,t){var r,o,c,s,a,i,d,h,p,y,k,b,m,v;return(0,u.__generator)(this,function(u){switch(u.label){case 0:r=function(e){switch(e){case P.YG.CANCEL:return P.cP.CANCEL;case P.YG.MODIFY:return P.cP.MODIFY;case P.YG.NEW:return P.cP.NEW;default:return P.cP.MODIFY}},o=""===e,c=n.collectionFilters.length>0,s=o?c?"collection_in: ".concat(JSON.stringify(n.collectionFilters)):"":"collection: ".concat(JSON.stringify(e)),a=n.typeFilters.filter(function(e){return e!==P.YG.SELL}).map(function(e){return r(e)}),i=0===n.typeFilters.length||a.length>0,d=a.length>0?"orderType_in: ".concat(JSON.stringify(a)):"",h=0===n.typeFilters.length||n.typeFilters.some(function(e){return e===P.YG.BUY||e===P.YG.SELL}),p=t/2,y=t/2,i&&h||(p=i?t:0,y=h?t:0),k=i?"askOrders(first: ".concat(p,", orderBy: timestamp, orderDirection: desc, where:{\n            ").concat(s,", ").concat(d,"\n          }) {\n              id\n              block\n              timestamp\n              orderType\n              askPrice\n              seller {\n                id\n              }\n              nft {\n                ").concat(q,"\n              }\n          }"):"",b=h?"transactions(first: ".concat(y,", orderBy: timestamp, orderDirection: desc, where:{\n            ").concat(s,"\n          }) {\n            ").concat(S,"\n              nft {\n                ").concat(q,"\n              }\n          }"):"",u.label=1;case 1:return u.trys.push([1,3,,4]),[4,(0,l.request)(f.Bd,(0,l.gql)(J(),k,b))];case 2:return[2,u.sent()||{askOrders:[],transactions:[]}];case 3:return v=u.sent(),console.error("Failed to fetch collection Activity",v),[2,{askOrders:[],transactions:[]}];case 4:return[2]}})}),function(e,n,t){return eC.apply(this,arguments)}),ej=(e_=(0,r.Z)(function(e,n){var t,r;return(0,u.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,l.request)(f.Bd,(0,l.gql)(G(),S,q,q),{tokenId:e,address:n})];case 1:if((t=o.sent()).nfts.length>0)return[2,{askOrders:t.nfts[0].askHistory,transactions:t.nfts[0].transactionHistory}];return[2,{askOrders:[],transactions:[]}];case 2:return r=o.sent(),console.error("Failed to fetch token Activity",r),[2,{askOrders:[],transactions:[]}];case 3:return[2]}})}),function(e,n){return e_.apply(this,arguments)}),eW=(eT=(0,r.Z)(function(e){var n,t;return(0,u.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,l.request)(f.Bd,(0,l.gql)(V(),q),{first:e})];case 1:return[2,n.sent().nfts];case 2:return t=n.sent(),console.error("Failed to fetch NFTs market data",t),[2,[]];case 3:return[2]}})}),function(e){return eT.apply(this,arguments)}),eJ=(eZ=(0,r.Z)(function(e,n){var t,r;return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,fetch("".concat(f.C1,"/collections/").concat(e,"/filter?").concat((0,d.stringify)(n)))];case 1:if(!(t=r.sent()).ok)return[3,3];return[4,t.json()];case 2:return[2,r.sent()];case 3:return console.error("API: Failed to fetch NFT collection ".concat(e),t.statusText),[2,null]}})}),function(e,n){return eZ.apply(this,arguments)}),eG=function(e,n){var t;return null!==(t=e[n])&&void 0!==t?t:{name:"",description:"",collection:{name:"Pancake Bunnies"},image:{original:"",thumbnail:""}}},eV=function(e){return[{traitType:"bunnyId",value:e,displayType:null},]},eR=function(e,n,t){return{tokenId:n.tokenId,name:e.name,description:e.description,collectionName:e.collection.name,collectionAddress:w.J,image:e.image,marketData:n,attributes:t}},ez=(eN=(0,r.Z)(function(e,n){var t,r,o,c,s,a,i,l;return(0,u.__generator)(this,function(r){switch(r.label){case 0:return t=Object.values(n).map(function(n){return{address:n.address,name:"balanceOf",params:[e]}}),[4,(0,h.v)({abi:y,calls:t,options:{requireSuccess:!1}})];case 1:return o=r.sent().flat(),c=Object.values(n).map(function(n,t){var r,c,s=null!==(c=null===(r=o[t])||void 0===r?void 0:r.toNumber())&&void 0!==c?c:0,a=n.address;return b()(s).map(function(n){return{address:a,name:"tokenOfOwnerByIndex",params:[e,n]}})}).flat(),[4,(0,h.v)({abi:y,calls:c,options:{requireSuccess:!1}})];case 2:return a=r.sent().flat(),i=P.Fb.WALLET,[2,a.reduce(function(e,n,t){if(n){var r=c[t].address;e.push({tokenId:n.toString(),collectionAddress:r,nftLocation:i})}return e},[])]}})}),function(e,n){return eN.apply(this,arguments)}),eX=function(e,n){var t=T()(n.map(function(e){return[e.id,e]}));return T()(e.filter(function(e){return null==e?void 0:e.address}).map(function(e){var n=t[e.address.toLowerCase()],r=(0,o.Z)({},e,n);return e.name&&(r.name=e.name),[e.address,r]}))},eK=(eD=(0,r.Z)(function(e){var n,t;return(0,u.__generator)(this,function(n){switch(n.label){case 0:var t;return[4,Promise.all(Object.entries(e).map((t=(0,r.Z)(function(e){var n,t,r,c,a,i,l;return(0,u.__generator)(this,function(r){switch(r.label){case 0:return t=(n=(0,s.Z)(e,2))[0],c=(0,n[1]).map(function(e){return e.tokenId}),[4,Promise.all([eS(t.toLowerCase(),c),eO({tokenId_in:c,collection:t.toLowerCase()})])];case 1:return i=(a=s.Z.apply(void 0,[r.sent(),2]))[0],l=a[1],[2,c.map(function(e){var n=l.find(function(n){return n.tokenId===e}),t=i.find(function(n){return n.tokenId===e});return n||t?(0,o.Z)({},n,t):null}).filter(Boolean)]}})}),function(e){return t.apply(this,arguments)})))];case 1:return[2,n.sent().flat()]}})}),function(e){return eD.apply(this,arguments)}),eQ=(eL=(0,r.Z)(function(e,n,t){var r,a,l,d,f,h,p,y,k,b,m,g;return(0,u.__generator)(this,function(u){var h,m,A,w,F,I,C,_;switch(u.label){case 0:return[4,Promise.all([ez(e,r=(0,o.Z)({},n,B.Z)),eE(r,e)])];case 1:return l=(a=s.Z.apply(void 0,[u.sent(),2]))[0],d=a[1],(null==t?void 0:t.tokenId)&&l.unshift(t),f=v()(l,function(e){return e.collectionAddress}),[4,eK(f)];case 2:return h=l,m=u.sent(),p=h.map(function(e){var n=m.find(function(n){return n.tokenId===e.tokenId&&n.collection.id.toLowerCase()===e.collectionAddress.toLowerCase()});return null!=n?n:{tokenId:e.tokenId,collection:{id:e.collectionAddress.toLowerCase()},nftLocation:e.nftLocation,metadataUrl:null,transactionHistory:null,currentSeller:null,isTradable:null,currentAskPrice:null,latestTradedPriceInBNB:null,tradeVolumeBNB:null,totalTrades:null,otherId:null}}),y=l.filter(function(e){return(null==t?void 0:t.tokenId)!==e.tokenId}).map(function(e){return e.tokenId}),k=d.map(function(e){return e.tokenId}),b=d.map(function(e){return{collectionAddress:e.collection.id,tokenId:e.tokenId}}),[4,ey((0,i.Z)(b).concat((0,i.Z)(l)))];case 3:return[2,(A=u.sent(),w=d,F=p,I=y,C=k,_=null==t?void 0:t.tokenId,g=A.map(function(e){var n,t,r,s,a=w.find(function(n){return n.tokenId===e.tokenId&&n.collection&&n.collection.id===e.collectionAddress});a||(a=F.find(function(n){return n.collection&&n.collection.id===e.collectionAddress&&n.tokenId===e.tokenId}));var i=(n=e.tokenId)===_?P.Fb.PROFILE:C.includes(n)?P.Fb.FORSALE:(I.includes(n)||console.error("Cannot determine location for tokenID ".concat(n,", defaulting to NftLocation.WALLET")),P.Fb.WALLET);return(0,c.Z)((0,o.Z)({},e),{marketData:a,location:i})}))]}})}),function(e,n,t){return eL.apply(this,arguments)}),e0=(eP=(0,r.Z)(function(e){var n,t;return(0,u.__generator)(this,function(t){switch(t.label){case 0:return[4,fetch("".concat(f.C1,"/collections/").concat(e,"/distribution"))];case 1:if(!(n=t.sent()).ok)return[3,3];return[4,n.json()];case 2:return[2,t.sent()];case 3:return console.error("API: Failed to fetch NFT collection ".concat(e," distribution"),n.statusText),[2,null]}})}),function(e){return eP.apply(this,arguments)})},88587:function(e,n,t){var r,o,c,s,a,i;t.d(n,{Fb:function(){return o},YG:function(){return c},cP:function(){return r}}),(s=r||(r={})).NEW="New",s.MODIFY="Modify",s.CANCEL="Cancel",(a=o||(o={})).FORSALE="For Sale",a.PROFILE="Profile Pic",a.WALLET="In Wallet",(i=c||(c={})).NEW="NEW",i.CANCEL="CANCEL",i.MODIFY="MODIFY",i.BUY="BUY",i.SELL="SELL"}}]);
//# sourceMappingURL=6737-9745982011420f0a.js.map