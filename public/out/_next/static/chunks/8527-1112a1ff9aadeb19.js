(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8527],{96795:function(e,n,t){var r=t(36740)(function(e,n,t){e[t?0:1].push(n)},function(){return[[],[]]});e.exports=r},38527:function(e,n,t){"use strict";t.d(n,{Z:function(){return ef}});var r=t(98788),i=t(70865),c=t(96670),o=t(5163),s=t(52322),l=t(2784),a=t(5305),u=t(44291),d=t(62392),f=t(76903),h=t(11803),x=t(89495),p=t(65095),m=t(13670),g=t(48608),v=t(26229),Z=t(16978),j=t(46737),b=t(64548),y=t(9101),w=t(65957),k=t(36695),C=t(19081),P=t(49804),A=t(93304),I=t(29089),S=t(68298),F=t(92228),E=t(45455),D=t.n(E),L=t(88587),T=t(3411),Y=t(34498),G=t.n(Y),N=t(31198),M=t(82767),O=t(69225),_=t(13023),J=t(18493),U=t(52180),W=t(54231),q=t(11095),K=t(88864),R=t(7887),$=function(e){var n=e.item,t=e.isSelected,r=e.onClick;return(0,s.jsxs)(K.Ak,{alignItems:"center",px:"16px",py:"8px",children:[(0,s.jsx)(x.Z,{style:{flex:1},children:n.label}),(0,s.jsx)(f.Z,{ml:"24px",children:(0,s.jsx)(R.Z,{name:"item-select",scale:"sm",onChange:r,checked:t,value:n.collectionAddress})})]})},z=function(e){var n=e.nftActivityFilters,t=(0,w.$G)().t,r=(0,l.useState)(!1),o=r[0],u=r[1],d=(0,l.useState)(""),h=d[0],p=d[1],g=(0,l.useState)({orderKey:"label",orderDir:"asc"}),v=g[0],Z=g[1],j=(0,A.t8)().data,b=(0,l.useRef)(null),y=(0,l.useRef)(null),k=(0,q.q)(),C=k.addActivityCollectionFilters,P=k.removeActivityCollectionFilters,I=k.removeAllActivityCollectionFilters,S=v.orderKey,F=v.orderDir,E=n.collectionFilters.length>0,D=(h&&h.length>1?Object.values(j).filter(function(e){return -1!==e.name.toLowerCase().indexOf(h.toLowerCase())}):Object.values(j)).map(function(e){var t=n.collectionFilters.some(function(n){return(0,a.UJ)(e.address)===(0,a.UJ)(n)});return(0,c.Z)((0,i.Z)({},e),{isSelected:t})}),L=function(){I()},T=function(){return u(!o)},Y=function(e){p(e.target.value)},R=function(e,n){e.target.checked?C({collection:n.address.toLowerCase()}):P({collection:n.address.toLowerCase()})},z=function(e){return function(){Z(function(n){return n.orderKey!==e?{orderKey:e,orderDir:"asc"}:{orderKey:e,orderDir:"asc"===n.orderDir?"desc":"asc"}})}};return(0,l.useEffect)(function(){var e=function(e){var n=e.target;b.current&&y.current&&!y.current.contains(n)&&!b.current.contains(n)&&u(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}},[u,b,y]),(0,s.jsxs)(f.Z,{alignItems:"center",mr:"4px",mb:"4px",children:[(0,s.jsx)(m.Z,{ref:b,children:(0,s.jsx)(N.Z,{component:(0,s.jsx)(K.yR,{onClick:T,variant:E?"subtle":"light",scale:"sm",hasItem:E,children:t("Collection")}),isOpen:o,options:{placement:"bottom"},children:(0,s.jsxs)(m.Z,{maxWidth:"375px",ref:y,children:[(0,s.jsx)(K._8,{alignItems:"center",p:"16px",children:(0,s.jsx)(M.Z,{startIcon:(0,s.jsx)(O.Z,{color:"textSubtle"}),children:(0,s.jsx)(_.Z,{name:"query",placeholder:t("Search"),onChange:Y,value:h})})}),(0,s.jsxs)(f.Z,{alignItems:"center",p:"16px",children:[(0,s.jsxs)(K.Lb,{onClick:z("name"),style:{flex:1},children:[(0,s.jsx)(x.Z,{fontSize:"12px",color:"secondary",fontWeight:"bold",textTransform:"uppercase",children:t("Name")}),(0,s.jsxs)(m.Z,{width:"18px",children:["name"===S&&"asc"===F&&(0,s.jsx)(J.Z,{width:"18px",color:"secondary"}),"name"===S&&"desc"===F&&(0,s.jsx)(U.Z,{width:"18px",color:"secondary"})]})]}),(0,s.jsxs)(K.Lb,{onClick:z("isSelected"),children:[(0,s.jsx)(x.Z,{fontSize:"12px",color:"secondary",fontWeight:"bold",textTransform:"uppercase",children:t("Filter")}),(0,s.jsxs)(m.Z,{width:"18px",children:["isSelected"===S&&"asc"===F&&(0,s.jsx)(J.Z,{width:"18px",color:"secondary"}),"isSelected"===S&&"desc"===F&&(0,s.jsx)(U.Z,{width:"18px",color:"secondary"})]})]})]}),(0,s.jsx)(m.Z,{height:"240px",overflowY:"auto",children:D.length>0?G()(D,S,F).map(function(e){var n=function(n){return R(n,e)};return(0,s.jsx)($,{item:{label:e.name,collectionAddress:e.address},isSelected:e.isSelected,onClick:n},e.address)}):(0,s.jsx)(f.Z,{alignItems:"center",justifyContent:"center",height:"230px",children:(0,s.jsx)(x.Z,{color:"textDisabled",textAlign:"center",children:t("No results found")})})})]})})}),E&&(0,s.jsx)(K.PZ,{variant:E?"subtle":"light",scale:"sm",onClick:L,children:(0,s.jsx)(W.Z,{color:"currentColor",width:"18px"})})]})},B=t(93058);function Q(){var e=(0,F.Z)(["\n  white-space: nowrap;\n  ","\n"]);return Q=function(){return e},e}function X(){var e=(0,F.Z)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n"]);return X=function(){return e},e}var H=(0,T.ZP)(g.Z).withConfig({componentId:"sc-34bde88d-0"})(Q(),function(e){return e.hasItem&&"  \n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    padding-right: 8px;\n  "}),V=(0,T.ZP)(B.Z).withConfig({componentId:"sc-34bde88d-1"})(X()),ee=function(e,n){switch(n){case L.YG.CANCEL:return e("Delisted");case L.YG.MODIFY:return e("Modified");case L.YG.NEW:return e("Listed");case L.YG.SELL:return e("Sold");default:return""}},en=function(e){var n=e.eventType,t=e.collectionAddress,r=e.nftActivityFilters,i=(0,w.$G)().t,c=(0,q.q)(),o=c.addActivityTypeFilters,l=c.removeActivityTypeFilters,a=r.typeFilters.some(function(e){return e===n}),u=function(){a||o({collection:t,field:n})},d=function(){l({collection:t,field:n})};return(0,s.jsxs)(f.Z,{alignItems:"center",mr:"4px",mb:"4px",children:[(0,s.jsx)(m.Z,{children:(0,s.jsx)(H,{onClick:u,variant:a?"subtle":"light",scale:"sm",hasItem:a,children:ee(i,n)})}),a&&(0,s.jsx)(V,{variant:a?"subtle":"light",scale:"sm",onClick:d,children:(0,s.jsx)(W.Z,{color:"currentColor",width:"18px"})})]})},et=t(26297),er=function(e){var n=e.collectionAddress,t=(0,et.Z)(e,["collectionAddress"]),r=(0,w.$G)().t,o=(0,q.q)().removeAllActivityFilters,l=function(){o(n)};return(0,s.jsx)(g.Z,(0,c.Z)((0,i.Z)({variant:"text",scale:"sm",onClick:l,style:{whiteSpace:"nowrap"}},t),{children:r("Clear")}),"clear-all")};function ei(){var e=(0,F.Z)(["\n  gap: 16px;\n\n  "," {\n    align-items: center;\n    flex-grow: 2;\n  }\n"]);return ei=function(){return e},e}function ec(){var e=(0,F.Z)(["\n  align-items: center;\n  flex: 1;\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n\n  "," {\n    flex-wrap: wrap;\n    overflow-x: revert;\n  }\n"]);return ec=function(){return e},e}var eo=(0,T.ZP)(f.Z).withConfig({componentId:"sc-fa27af2-0"})(ei(),function(e){return e.theme.mediaQueries.sm}),es=(0,T.ZP)(f.Z).withConfig({componentId:"sc-fa27af2-1"})(ec(),function(e){return e.theme.mediaQueries.md}),el=function(e){var n=e.address,t=e.nftActivityFilters,r=(0,w.$G)().t;return(0,s.jsxs)(eo,{justifyContent:"space-between",flexDirection:["column","column","row"],children:[(0,s.jsx)(x.Z,{textTransform:"uppercase",color:"textSubtle",fontSize:"12px",bold:!0,children:r("Filter by")}),(0,s.jsxs)(es,{children:[""===n&&(0,s.jsx)(z,{nftActivityFilters:t}),[L.YG.NEW,L.YG.CANCEL,L.YG.MODIFY,L.YG.SELL].map(function(e){return(0,s.jsx)(en,{eventType:e,collectionAddress:n,nftActivityFilters:t},e)})]}),D()(t.typeFilters)&&D()(t.collectionFilters)?null:(0,s.jsx)(er,{collectionAddress:n})]})},ea=t(94345),eu=t(51661),ed=t(20535),ef=function(e){var n=e.collection,t=(0,u.TL)(),F=(n||{address:""}).address,E=(0,A.ly)(F),D=(0,C.ZP)().theme,L=(0,w.$G)().t,T=(0,l.useState)({activity:[],currentPage:1,maxPage:1}),Y=T[0],G=T[1],N=(0,l.useState)([]),M=N[0],O=N[1],_=(0,l.useState)([]),J=_[0],U=_[1],W=(0,l.useState)(!0),q=W[0],K=W[1],R=(0,l.useState)(!1),$=R[0],z=R[1],B=(0,l.useState)(1),Q=B[0],X=B[1],H=(0,P.sP)(),V=H.lastUpdated,ee=H.setLastUpdated,en=(0,k.Hf)(),et=(0,d.Z)(),er=et.isXs,ei=et.isSm,ec=et.isMd,eo=JSON.stringify(E);(0,l.useEffect)(function(){var e,n=(e=(0,r.Z)(function(){var e,n,t,r;return(0,o.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),K(!0),e=JSON.parse(eo),[4,(0,j.Du)(F.toLowerCase(),e,100)];case 1:return n=i.sent(),G({activity:t=(0,eu.f)(n),currentPage:1,maxPage:Math.ceil(t.length/8)||1}),K(!1),z(!0),[3,3];case 2:return r=i.sent(),console.error("Failed to fetch collection activity",r),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)});(F&&(0,a.UJ)(F)||""===F)&&n()},[t,F,eo,V]),(0,l.useEffect)(function(){var e,n=(e=(0,r.Z)(function(){var e;return(0,o.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ed.M)(M)];case 1:return U(e.sent()),[2]}})}),function(){return e.apply(this,arguments)});M.length>0&&n()},[M]),(0,l.useEffect)(function(){O(Y.activity.slice(8*(Y.currentPage-1),8*Y.currentPage))},[Y]);var es=0===Y.activity.length&&0===J.length&&0===M.length&&!q,ef=es?null:(0,s.jsx)(b.Z,{children:(0,s.jsx)(f.Z,{borderTop:"1px ".concat(D.colors.cardBorder," solid"),pt:"24px",flexDirection:"column",justifyContent:"space-between",height:"100%",children:(0,s.jsxs)(I.O,{children:[(0,s.jsx)(I.E,{onClick:function(){1!==Y.currentPage&&G(function(e){return(0,c.Z)((0,i.Z)({},e),{currentPage:e.currentPage-1})})},children:(0,s.jsx)(h.Z,{color:1===Y.currentPage?"textDisabled":"primary"})}),(0,s.jsx)(x.Z,{children:L("Page %page% of %maxPage%",{page:Y.currentPage,maxPage:Y.maxPage})}),(0,s.jsx)(I.E,{onClick:(0,r.Z)(function(){var e,n,t,r;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(!(Y.currentPage!==Y.maxPage)||(G(function(e){return(0,c.Z)((0,i.Z)({},e),{currentPage:e.currentPage+1})}),!(Y.maxPage-Y.currentPage==1&&Y.activity.length===100*Q)))return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),K(!0),e=JSON.parse(eo),[4,(0,j.Du)(F.toLowerCase(),e,100*(Q+1))];case 2:return n=o.sent(),t=(0,eu.f)(n),G(function(e){return(0,c.Z)((0,i.Z)({},e),{activity:t,maxPage:Math.ceil(t.length/8)||1})}),K(!1),X(function(e){return e+1}),[3,4];case 3:return r=o.sent(),console.error("Failed to fetch collection activity",r),[3,4];case 4:return[2]}})}),children:(0,s.jsx)(p.Z,{color:Y.currentPage===Y.maxPage?"textDisabled":"primary"})})]})})});return(0,s.jsxs)(m.Z,{py:"32px",children:[(0,s.jsx)(b.Z,{px:[0,null,"24px"],children:(0,s.jsxs)(f.Z,{style:{gap:"16px",padding:"0 16px"},alignItems:[null,null,"center"],flexDirection:["column","column","row"],flexWrap:ec?"wrap":"nowrap",children:[(0,s.jsx)(el,{address:(null==n?void 0:n.address)||"",nftActivityFilters:E}),(0,s.jsx)(g.Z,(0,c.Z)((0,i.Z)({scale:"sm",disabled:q,onClick:function(){ee()}},ec&&{width:"100%"}),{children:L("Refresh")}))]})}),(0,s.jsx)(b.Z,{style:{overflowX:"auto"},children:es?(0,s.jsxs)(f.Z,{p:"24px",flexDirection:"column",alignItems:"center",children:[(0,s.jsx)(S.Z,{}),(0,s.jsx)(x.Z,{pt:"8px",bold:!0,children:L("No NFT market history found")})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(v.Z,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsxs)(Z.Th,{textAlign:["center",null,"left"],children:[" ",L("Item")]}),(0,s.jsxs)(Z.Th,{textAlign:"right",children:[" ",L("Event")]}),er||ei?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(Z.Th,{textAlign:"right",children:[" ",L("Price")]}),(0,s.jsxs)(Z.Th,{textAlign:"center",children:[" ",L("From")]}),(0,s.jsxs)(Z.Th,{textAlign:"center",children:[" ",L("To")]})]}),(0,s.jsxs)(Z.Th,{textAlign:"center",children:[" ",L("Date")]}),er||ei?null:(0,s.jsx)(Z.Th,{})]})}),(0,s.jsx)("tbody",{children:$?M.map(function(e){var n=J.find(function(n){var t;return n.tokenId===e.nft.tokenId&&(0,a.UJ)(n.collectionAddress)===(0,a.UJ)(null===(t=e.nft)||void 0===t?void 0:t.collection.id)});return(0,s.jsx)(ea.Z,{activity:e,nft:n,bnbBusdPrice:en},"".concat(e.marketEvent,"#").concat(e.nft.tokenId,"#").concat(e.timestamp,"#").concat(e.tx))}):(0,s.jsx)(y.Z,{})})]})})}),ef]})}},20535:function(e,n,t){"use strict";t.d(n,{M:function(){return m}});var r,i=t(98788),c=t(70865),o=t(96670),s=t(87394),l=t(5163),a=t(46737),u=t(84636),d=t.n(u),f=t(96795),h=t.n(f),x=t(5305),p=t(36806),m=(r=(0,i.Z)(function(e){var n,t,r,i,u,f,m,g;return(0,l.__generator)(this,function(l){switch(l.label){case 0:return t=(n=(0,s.Z)(h()(e,function(e){return(0,x.UJ)(e.nft.collection.id)===p.J}),2))[0],r=n[1],i=d()(r.map(function(e){return{tokenId:e.nft.tokenId,collectionAddress:e.nft.collection.id}}),function(e){return"".concat(e.tokenId,"#").concat(e.collectionAddress)}),[4,Promise.all([t.length?(0,a.Rq)(p.J):Promise.resolve(null),(0,a._C)(i)])];case 1:return f=(u=s.Z.apply(void 0,[l.sent(),2]))[0],m=u[1],g=f?t.map(function(e){var n=f.data[e.nft.otherId].collection.name;return(0,o.Z)((0,c.Z)({},f.data[e.nft.otherId]),{tokenId:e.nft.tokenId,attributes:[{traitType:"bunnyId",value:e.nft.otherId}],collectionAddress:e.nft.collection.id,collectionName:n})}):[],[2,m.concat(g)]}})}),function(e){return r.apply(this,arguments)})},51661:function(e,n,t){"use strict";t.d(n,{f:function(){return s}});var r=t(50930),i=t(88587),c=t(34498),o=t.n(c),s=function(e){var n,t,c=e.askOrders,s=e.transactions,l=function(e){switch(e){case i.cP.CANCEL:return i.YG.CANCEL;case i.cP.MODIFY:return i.YG.MODIFY;case i.cP.NEW:return i.YG.NEW;default:return i.YG.MODIFY}},a=(0,r.Z)((n=void 0===c?[]:c).map(function(e){var n,t=l(e.orderType),r=e.askPrice,i=e.timestamp,c=e.nft;return{marketEvent:t,price:r,timestamp:i,nft:c,tx:e.id,seller:null==e?void 0:e.seller.id}})).concat((0,r.Z)((t=void 0===s?[]:s).map(function(e){var n,t=i.YG.SELL,r=e.timestamp,c=e.nft,o=e.askPrice,s=e.id;return{marketEvent:t,price:o,timestamp:r,nft:c,tx:s,buyer:e.buyer.id,seller:e.seller.id}})));return a.length>0?o()(a,function(e){return parseInt(e.timestamp,10)},"desc"):[]}},68298:function(e,n,t){"use strict";var r=t(92228),i=t(3411);function c(){var e=(0,r.Z)(["\n  background: url('/images/nfts/no-profile-md.png');\n  background-repeat: no-repeat;\n  background-size: cover;\n  border-radius: 50%;\n  position: relative;\n  width: 96px;\n  height: 96px;\n\n  & > img {\n    border-radius: 50%;\n  }\n"]);return c=function(){return e},e}var o=i.ZP.div.withConfig({componentId:"sc-9689af5c-0"})(c());n.Z=o},7887:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(92228),i=t(3411),c={SM:"sm",MD:"md"};function o(){var e=(0,r.Z)(["\n  appearance: none;\n  overflow: hidden;\n  cursor: pointer;\n  position: relative;\n  display: inline-block;\n  height: ",";\n  width: ",";\n  vertical-align: middle;\n  transition: background-color 0.2s ease-in-out;\n  border: 0;\n  border-radius: 8px;\n  background-color: ",";\n  box-shadow: ",';\n\n  &:after {\n    content: "";\n    position: absolute;\n    border-bottom: 2px solid;\n    border-left: 2px solid;\n    border-color: transparent;\n    top: 30%;\n    left: 0;\n    right: 0;\n    width: 50%;\n    height: 25%;\n    margin: auto;\n    transform: rotate(-50deg);\n    transition: border-color 0.2s ease-in-out;\n  }\n\n  &:hover:not(:disabled):not(:checked) {\n    box-shadow: ',";\n  }\n\n  &:focus {\n    outline: none;\n    box-shadow: ",";\n  }\n\n  &:checked {\n    background-color: ",";\n    &:after {\n      border-color: white;\n    }\n  }\n\n  &:disabled {\n    cursor: default;\n    opacity: 0.6;\n  }\n"]);return o=function(){return e},e}var s=function(e){var n=e.scale;switch(n){case c.SM:return"24px";case c.MD:default:return"32px"}},l=i.ZP.input.attrs({type:"checkbox"}).withConfig({componentId:"sc-11bd21f1-0"})(o(),s,s,function(e){return e.theme.colors.input},function(e){return e.theme.shadows.inset},function(e){return e.theme.shadows.focus},function(e){return e.theme.shadows.focus},function(e){return e.theme.colors.success});l.defaultProps={scale:c.MD};var a=l}}]);
//# sourceMappingURL=8527-1112a1ff9aadeb19.js.map