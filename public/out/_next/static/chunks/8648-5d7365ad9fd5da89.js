"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8648],{99022:function(t,e,n){n.d(e,{A:function(){return u},Z:function(){return i}});var r=n(52322),a=n(2784),o=n(43997),u=(0,a.createContext)(null);function i(t){var e=t.children,n=t.store;return(0,r.jsx)(o.zt,{store:n,context:u,children:e})}},27094:function(t,e,n){n.d(e,{Z:function(){return i}});var r=n(2784),a=n(34291),o=n.n(a),u=n(99022);function i(){var t,e=(0,r.useContext)(u.A),n=(0,r.useCallback)(o(),[]);return(null==e?void 0:null===(t=e.store)||void 0===t?void 0:t.dispatch)||n}},87799:function(t,e,n){n.d(e,{Ck:function(){return a},ND:function(){return i},eQ:function(){return s},fq:function(){return o},v9:function(){return u},yg:function(){return l}});var r=n(7599),a=.97,o=3*r.hJ,u=5,i=2,l=200,s=10},51014:function(t,e,n){n.d(e,{ub:function(){return z},x4:function(){return r},oO:function(){return tf},t$:function(){return td},Fr:function(){return V},jG:function(){return tn},fq:function(){return K},HJ:function(){return X},Tq:function(){return Y},n:function(){return tr},s9:function(){return te},D:function(){return tt},yz:function(){return q},$8:function(){return ta},CM:function(){return to},a8:function(){return tl},D5:function(){return tu},zN:function(){return tc},WB:function(){return ts},ld:function(){return R},r3:function(){return I}});var r,a=n(98788),o=n(47842),u=n(70865),i=n(96670),l=n(87394),s=n(92228),c=n(5163),d=n(6647),f=n(10494),m=n(10528),p=n(93638),h=n(25152),B=n(80405),b=n(45883),A=n(90711),v=function(t){return"CAKE"===t?"\n  id\n  createdAt\n  updatedAt\n  block\n  totalBets\n  totalBetsBull\n  totalBetsBear\n  totalCAKE\n  totalCAKEBull\n  totalCAKEBear\n  totalBetsClaimed\n  totalCAKEClaimed\n  winRate\n  averageCAKE\n  netCAKE\n":"\n  id\n  createdAt\n  updatedAt\n  block\n  totalBets\n  totalBetsBull\n  totalBetsBear\n  totalBNB\n  totalBNBBull\n  totalBNBBear\n  totalBetsClaimed\n  totalBNBClaimed\n  winRate\n  averageBNB\n  netBNB\n"},g=n(87799),k=function(t){if(null===t)return null;var e=Number(t);return Number.isNaN(e)?null:e},Z=function(t){var e={id:t.id,hash:t.hash,block:k(t.block),amount:t.amount?parseFloat(t.amount):0,position:"Bull"===t.position?p.Tu.BULL:p.Tu.BEAR,claimed:t.claimed,claimedAt:k(t.claimedAt),claimedBlock:k(t.claimedBlock),claimedHash:t.claimedHash,claimedBNB:t.claimedCAKE?parseFloat(t.claimedCAKE):0,claimedNetBNB:t.claimedNetCAKE?parseFloat(t.claimedNetCAKE):0,createdAt:k(t.createdAt),updatedAt:k(t.updatedAt)};return t.user&&(e.user=y(t.user)),t.round&&(e.round=C(t.round)),e},y=function(t){var e=t||{},n=e.id,r=e.createdAt,a=e.updatedAt,o=e.block,u=e.totalBets,i=e.totalBetsBull,l=e.totalBetsBear,s=e.totalCAKE,c=e.totalCAKEBull,d=e.totalCAKEBear,f=e.totalBetsClaimed,m=e.totalCAKEClaimed,p=e.winRate,h=e.averageCAKE,B=e.netCAKE;return{id:n,createdAt:k(r),updatedAt:k(a),block:k(o),totalBets:k(u),totalBetsBull:k(i),totalBetsBear:k(l),totalBNB:s?parseFloat(s):0,totalBNBBull:c?parseFloat(c):0,totalBNBBear:d?parseFloat(d):0,totalBetsClaimed:k(f),totalBNBClaimed:m?parseFloat(m):0,winRate:p?parseFloat(p):0,averageBNB:h?parseFloat(h):0,netBNB:B?parseFloat(B):0}},C=function(t){var e,n=t.id,r=t.epoch,a=t.failed,o=t.position,u=t.startAt,i=t.startBlock,l=t.startHash,s=t.lockAt,c=t.lockBlock,d=t.lockHash,f=t.lockPrice,m=t.lockRoundId,h=t.closeAt,B=t.closeBlock,b=t.closeHash,A=t.closePrice,v=t.closeRoundId,g=t.totalBets,y=t.totalAmount,C=t.bullBets,N=t.bullAmount,S=t.bearBets,E=t.bearAmount,F=t.bets;return{id:n,failed:a,startHash:l,lockHash:d,lockRoundId:m,closeRoundId:v,closeHash:b,position:"Bull"===o?p.Tu.BULL:"Bear"===o?p.Tu.BEAR:"House"===o?p.Tu.HOUSE:null,epoch:k(r),startAt:k(u),startBlock:k(i),lockAt:k(s),lockBlock:k(c),lockPrice:f?parseFloat(f):0,closeAt:k(h),closeBlock:k(B),closePrice:A?parseFloat(A):0,totalBets:k(g),totalAmount:y?parseFloat(y):0,bullBets:k(C),bullAmount:N?parseFloat(N):0,bearBets:k(S),bearAmount:E?parseFloat(E):0,bets:(void 0===F?[]:F).map(Z)}},N=function(t){var e={id:t.id,hash:t.hash,block:k(t.block),amount:t.amount?parseFloat(t.amount):0,position:"Bull"===t.position?p.Tu.BULL:p.Tu.BEAR,claimed:t.claimed,claimedAt:k(t.claimedAt),claimedBlock:k(t.claimedBlock),claimedHash:t.claimedHash,claimedBNB:t.claimedBNB?parseFloat(t.claimedBNB):0,claimedNetBNB:t.claimedNetBNB?parseFloat(t.claimedNetBNB):0,createdAt:k(t.createdAt),updatedAt:k(t.updatedAt)};return t.user&&(e.user=S(t.user)),t.round&&(e.round=E(t.round)),e},S=function(t){var e=t||{},n=e.id,r=e.createdAt,a=e.updatedAt,o=e.block,u=e.totalBets,i=e.totalBetsBull,l=e.totalBetsBear,s=e.totalBNB,c=e.totalBNBBull,d=e.totalBNBBear,f=e.totalBetsClaimed,m=e.totalBNBClaimed,p=e.winRate,h=e.averageBNB,B=e.netBNB;return{id:n,createdAt:k(r),updatedAt:k(a),block:k(o),totalBets:k(u),totalBetsBull:k(i),totalBetsBear:k(l),totalBNB:s?parseFloat(s):0,totalBNBBull:c?parseFloat(c):0,totalBNBBear:d?parseFloat(d):0,totalBetsClaimed:k(f),totalBNBClaimed:m?parseFloat(m):0,winRate:p?parseFloat(p):0,averageBNB:h?parseFloat(h):0,netBNB:B?parseFloat(B):0}},E=function(t){var e,n=t.id,r=t.epoch,a=t.failed,o=t.position,u=t.startAt,i=t.startBlock,l=t.startHash,s=t.lockAt,c=t.lockBlock,d=t.lockHash,f=t.lockPrice,m=t.lockRoundId,h=t.closeAt,B=t.closeBlock,b=t.closeHash,A=t.closePrice,v=t.closeRoundId,g=t.totalBets,Z=t.totalAmount,y=t.bullBets,C=t.bullAmount,S=t.bearBets,E=t.bearAmount,F=t.bets;return{id:n,failed:a,startHash:l,lockHash:d,lockRoundId:m,closeRoundId:v,closeHash:b,position:"Bull"===o?p.Tu.BULL:"Bear"===o?p.Tu.BEAR:"House"===o?p.Tu.HOUSE:null,epoch:k(r),startAt:k(u),startBlock:k(i),lockAt:k(s),lockBlock:k(c),lockPrice:f?parseFloat(f):0,closeAt:k(h),closeBlock:k(B),closePrice:A?parseFloat(A):0,totalBets:k(g),totalAmount:Z?parseFloat(Z):0,bullBets:k(y),bullAmount:C?parseFloat(C):0,bearBets:k(S),bearAmount:E?parseFloat(E):0,bets:(void 0===F?[]:F).map(N)}};function F(){var t=(0,s.Z)(["\n        query getTotalWonData {\n          market(id: 1) {\n            totalBNB\n            totalBNBTreasury\n          }\n        }\n      "]);return F=function(){return t},t}function P(){var t=(0,s.Z)(["\n        query getTotalWonData {\n          market(id: 1) {\n            totalCAKE\n            totalCAKETreasury\n          }\n        }\n      "]);return P=function(){return t},t}function H(){var t=(0,s.Z)(["\n      query getBetHistory($first: Int!, $skip: Int!, $where: Bet_filter) {\n        bets(first: $first, skip: $skip, where: $where, order: createdAt, orderDirection: desc) {\n          ","\n          round {\n            ","\n          }\n          user {\n            ","\n          }\n        }\n      }\n    "]);return H=function(){return t},t}function w(){var t=(0,s.Z)(["\n      query getUsers($first: Int!, $skip: Int!, $where: User_filter, $orderBy: User_orderBy, $orderDir: OrderDirection) {\n        users(first: $first, skip: $skip, where: $where, orderBy: $orderBy, orderDirection: $orderDir) {\n          ","\n        }\n      }\n    "]);return w=function(){return t},t}function O(){var t=(0,s.Z)(["\n      query getUser($id: ID!) {\n        user(id: $id) {\n          ","\n        }\n      }\n  "]);return O=function(){return t},t}(L=r||(r={})).WIN="win",L.LOSE="lose",L.CANCELED="canceled",L.HOUSE="house",L.LIVE="live";var L,_,T,R=function(t){return"CAKE"===t?Z:N},I=function(t){return"CAKE"===t?y:S},q=function(t,e){var n=t.round;if(n.failed)return r.CANCELED;if(n.epoch>=e-1)return r.LIVE;if(t.round.position===p.Tu.HOUSE)return r.HOUSE;var a=n.closePrice>n.lockPrice?p.Tu.BULL:p.Tu.BEAR;return t.position===a?r.WIN:r.LOSE},K=function(t,e){switch(e){case p.dZ.COLLECTED:return t.filter(function(t){return!0===t.claimed});case p.dZ.UNCOLLECTED:return t.filter(function(t){return!t.claimed&&(t.position===t.round.position||!0===t.round.failed)});case p.dZ.ALL:default:return t}},x=function(t,e){var n=t["total".concat(e)]?parseFloat(t["total".concat(e)]):0,r=t["total".concat(e,"Treasury")]?parseFloat(t["total".concat(e,"Treasury")]):0;return Math.max(n-r,0)};(0,a.Z)(function(){var t,e,n,r,a,o;return(0,c.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.all([(0,d.request)(f.GZ,(0,d.gql)(F())),(0,d.request)(f.fO,(0,d.gql)(P()))])];case 1:return n=(e=l.Z.apply(void 0,[t.sent(),1])[0]).market,r=e.market,a=x(n,"BNB"),o=x(r,"CAKE"),[2,{totalWonBNB:a,totalWonCAKE:o}]}})});var U,D,$,j,M,J,W,G,V=(T=(0,a.Z)(function(){var t,e,n,r,a,o,u=arguments;return(0,c.__generator)(this,function(o){switch(o.label){case 0:var i;return t=u.length>0&&void 0!==u[0]?u[0]:{},e=u.length>1&&void 0!==u[1]?u[1]:1e3,n=u.length>2&&void 0!==u[2]?u[2]:0,r=u.length>3?u[3]:void 0,a=u.length>4?u[4]:void 0,[4,(0,d.request)(r,(0,d.gql)(H(),"CAKE"===(i=a)?"\n id\n hash  \n amount\n position\n claimed\n claimedAt\n claimedHash\n claimedBlock\n claimedCAKE\n claimedNetCAKE\n createdAt\n updatedAt\n":"\n id\n hash  \n amount\n position\n claimed\n claimedAt\n claimedHash\n claimedBlock\n claimedBNB\n claimedNetBNB\n createdAt\n updatedAt\n","\n  id\n  epoch\n  position\n  failed\n  startAt\n  startBlock\n  startHash\n  lockAt\n  lockBlock\n  lockHash\n  lockPrice\n  lockRoundId\n  closeAt\n  closeBlock\n  closeHash\n  closePrice\n  closeRoundId\n  totalBets\n  totalAmount\n  bullBets\n  bullAmount\n  bearBets\n  bearAmount\n",v(a)),{first:e,skip:n,where:t})];case 1:return[2,o.sent().bets]}})}),function(){return T.apply(this,arguments)}),Y=(U=(0,a.Z)(function(t,e,n){var r,a;return(0,c.__generator)(this,function(a){switch(a.label){case 0:return r=e.map(function(e){return{address:n,name:"ledger",params:[e,t]}}),[4,(0,h.v)({abi:b,calls:r})];case 1:return[2,a.sent()]}})}),function(t,e,n){return U.apply(this,arguments)}),z=20,Q={skip:0,first:z,orderBy:"createdAt",orderDir:"desc"},X=function(t,e,n){if(!t){var r=(e+n)*1e3;if(Number.isFinite(r))return Date.now()>r}return!1},tt=(D=(0,a.Z)(function(){var t,e,n,r,a,o,i,l,s,f,m=arguments;return(0,c.__generator)(this,function(c){switch(c.label){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:{},e=m.length>1?m[1]:void 0,n=m.length>2?m[2]:void 0,a=(r=(0,u.Z)({},Q,t)).first,o=r.skip,i=r.where,l=r.orderBy,s=r.orderDir,[4,(0,d.request)(e,(0,d.gql)(w(),v(n)),{first:a,skip:o,where:i,orderBy:l,orderDir:s})];case 1:return[2,c.sent().users]}})}),function(){return D.apply(this,arguments)}),te=($=(0,a.Z)(function(t,e,n){var r;return(0,c.__generator)(this,function(r){switch(r.label){case 0:return[4,(0,d.request)(e,(0,d.gql)(O(),v(n)),{id:t.toLowerCase()})];case 1:return[2,r.sent().user]}})}),function(t,e,n){return $.apply(this,arguments)}),tn=(j=(0,a.Z)(function(t,e,n){var r,a;return(0,c.__generator)(this,function(a){switch(a.label){case 0:return r=e.map(function(e){return{address:n,name:"claimable",params:[e,t]}}),[4,(0,h.v)({abi:b,calls:r})];case 1:return[2,a.sent().reduce(function(t,n,r){var a=e[r],s=(0,l.Z)(n,1)[0];return(0,i.Z)((0,u.Z)({},t),(0,o.Z)({},a,s))},{})]}})}),function(t,e,n){return j.apply(this,arguments)}),tr=(M=(0,a.Z)(function(t){var e,n,r,a,o,u,i,s,d,f;return(0,c.__generator)(this,function(r){switch(r.label){case 0:return e=["currentEpoch","intervalSeconds","minBetAmount","paused"].map(function(e){return{address:t,name:e}}),[4,(0,h.v)({abi:b,calls:e})];case 1:return n=l.Z.apply(void 0,[r.sent(),4]),a=(0,l.Z)(n[0],1)[0],u=(0,l.Z)(n[1],1)[0],s=(0,l.Z)(n[2],1)[0],[2,{status:(0,l.Z)(n[3],1)[0]?p.Gw.PAUSED:p.Gw.LIVE,currentEpoch:a.toNumber(),intervalSeconds:u.toNumber(),minBetAmount:s.toString()}]}})}),function(t){return M.apply(this,arguments)}),ta=(J=(0,a.Z)(function(t,e){var n,r;return(0,c.__generator)(this,function(r){switch(r.label){case 0:return n=t.map(function(t){return{address:e,name:"rounds",params:[t]}}),[4,(0,h.v)({abi:b,calls:n})];case 1:return[2,r.sent()]}})}),function(t,e){return J.apply(this,arguments)}),to=function(t,e){return{epoch:t,startTimestamp:e,lockTimestamp:null,closeTimestamp:null,lockPrice:null,closePrice:null,totalAmount:A._Y.toJSON(),bullAmount:A._Y.toJSON(),bearAmount:A._Y.toJSON(),rewardBaseCalAmount:A._Y.toJSON(),rewardAmount:A._Y.toJSON(),oracleCalled:!1,lockOracleId:null,closeOracleId:null}},tu=function(t){return t.reduce(function(t,e){return(0,i.Z)((0,u.Z)({},t),(0,o.Z)({},e.epoch.toString(),e))},{})},ti=function(t){return{position:0===t.position?p.Tu.BULL:p.Tu.BEAR,amount:t.amount.toJSON(),claimed:t.claimed}},tl=function(t,e,n){return e.reduce(function(e,r,a){if(!r||r.amount.eq(0))return e;var l=n[a].toString();return(0,i.Z)((0,u.Z)({},e),(0,o.Z)({},t,(0,i.Z)((0,u.Z)({},e[t]),(0,o.Z)({},l,ti(r)))))},{})},ts=function(t){var e=t.epoch,n=t.startTimestamp,r=t.lockTimestamp,a=t.closeTimestamp,o=t.lockPrice,u=t.closePrice,i=t.totalAmount,l=t.bullAmount,s=t.bearAmount,c=t.rewardBaseCalAmount,d=t.rewardAmount,f=t.oracleCalled,m=t.lockOracleId,p=t.closeOracleId;return{oracleCalled:f,epoch:e.toNumber(),startTimestamp:n.eq(0)?null:n.toNumber(),lockTimestamp:r.eq(0)?null:r.toNumber(),closeTimestamp:a.eq(0)?null:a.toNumber(),lockPrice:o.eq(0)?null:o.toJSON(),closePrice:u.eq(0)?null:u.toJSON(),totalAmount:i.toJSON(),bullAmount:l.toJSON(),bearAmount:s.toJSON(),rewardBaseCalAmount:c.toJSON(),rewardAmount:d.toJSON(),lockOracleId:m.toString(),closeOracleId:p.toString()}},tc=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return r&&(null==r?void 0:r.type)==="BigNumber"?(0,i.Z)((0,u.Z)({},e),(0,o.Z)({},n,m.O$.from(r))):(0,i.Z)((0,u.Z)({},e),(0,o.Z)({},n,r))},{})},td=(W=(0,a.Z)(function(t,e){var n,r;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,(0,B.qi)(e).getUserRoundsLength(t)];case 1:return[2,n.sent()];case 2:return n.sent(),[2,A._Y];case 3:return[2]}})}),function(t,e){return W.apply(this,arguments)}),tf=(G=(0,a.Z)(function(t){var e,n,r,a,s,d,f,m=arguments;return(0,c.__generator)(this,function(c){switch(c.label){case 0:e=m.length>1&&void 0!==m[1]?m[1]:0,n=m.length>2&&void 0!==m[2]?m[2]:g.yg,r=m.length>3?m[3]:void 0,a=(0,B.qi)(r),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,a.getUserRounds(t,e,n)];case 2:return d=(s=l.Z.apply(void 0,[c.sent(),2]))[0],f=s[1],[2,d.reduce(function(t,e,n){return(0,i.Z)((0,u.Z)({},t),(0,o.Z)({},e.toString(),ti(f[n])))},{})];case 3:return c.sent(),[2,null];case 4:return[2]}})}),function(t){return G.apply(this,arguments)})},97913:function(t,e,n){n.d(e,{WR:function(){return I},Dh:function(){return tn},n3:function(){return L},XM:function(){return M},dJ:function(){return q},Gc:function(){return $},ds:function(){return G},sz:function(){return D},pw:function(){return W},J7:function(){return U},m3:function(){return K},Wx:function(){return _},dW:function(){return J},YY:function(){return z},Gy:function(){return X},AC:function(){return V},HF:function(){return Y},Ok:function(){return Q},eI:function(){return j},nB:function(){return tt},hU:function(){return x},Z_:function(){return H},dm:function(){return w},Aq:function(){return O},YF:function(){return R},e:function(){return T},b1:function(){return te}});var r=n(2784),a=n(5305),o=n(27094),u=n(43997),i=n(99022),l=(0,u.gR)(i.A),s=n(85251),c=n(47842),d=n(70865),f=n(96670),m=n(10528),p=n(34498),h=n.n(p),B=n(5994),b=n(51014),A=function(t){return t.currentEpoch},v=function(t){return t.rounds},g=function(t){return t.ledgers},k=function(t){return t.claimableStatuses},Z=function(t){return t.minBetAmount},y=function(t){return t.intervalSeconds},C=(0,B.P1)([v],function(t){return Object.keys(t).reduce(function(e,n){var r=(0,b.zN)(t[n]);return(0,f.Z)((0,d.Z)({},e),(0,c.Z)({},r.closeOracleId,r))},{})}),N=(0,B.P1)([v],function(t){return Object.keys(t).reduce(function(e,n){return(0,f.Z)((0,d.Z)({},e),(0,c.Z)({},n,(0,b.zN)(t[n])))},{})}),S=(0,B.P1)([N],function(t){return h()(Object.values(t),["epoch"],["asc"])}),E=(0,B.P1)([A,S],function(t,e){return{currentEpoch:t,rounds:e}}),F=(0,B.P1)([Z],m.O$.from),P=(0,B.P1)([A,N,y],function(t,e,n){if(t){var r=e[t-1];return r?r.closeTimestamp?r.closeTimestamp:r.lockTimestamp+n:void 0}}),H=function(){return l(C)},w=function(){return l(S)},O=function(){return l(E)},L=function(t,e){var n=(0,r.useMemo)(function(){var n,r;return(0,B.P1)([g],function(n){return n[t]&&n[t][e]?(0,b.zN)(n[t][e]):null})},[t,e]);return l(n)},_=function(t){var e=(0,r.useMemo)(function(){var e;return(0,B.P1)([k],function(e){return e[t]||!1})},[t]);return l(e)},T=function(){return l(function(t){return t.isHistoryPaneOpen})},R=function(){return l(function(t){return t.isChartPaneOpen})},I=function(){return l(function(t){return t.chartView})},q=function(){return l(function(t){return t.currentEpoch})},K=function(){return l(function(t){return t.intervalSeconds})},x=function(){return l(function(t){return t.status})},U=function(){return l(function(t){return t.historyFilter})},D=function(){return l(function(t){return t.hasHistoryLoaded})},$=function(){return l(function(t){return t.currentHistoryPage})},j=function(){return l(F)},M=function(){return l(function(t){return t.bufferSeconds})},J=function(){return l(function(t){return t.isFetchingHistory})},W=function(){return l(function(t){return t.history})},G=function(){return l(P)},V=function(){return l(function(t){return t.leaderboard.loadingState})},Y=function(){return l(function(t){return t.leaderboard.results})},z=function(){return l(function(t){return t.leaderboard.filters})},Q=function(){return l(function(t){return t.leaderboard.skip})},X=function(){return l(function(t){return t.leaderboard.hasMoreResults})},tt=function(t){var e,n=l(function(e){return e.leaderboard.addressResults[t]}),u=(0,o.Z)();return(0,r.useEffect)(function(){var e=(0,a.UJ)(t);!n&&null!==n&&e&&u((0,s.nI)(t))},[u,t,n]),n},te=function(t){var e=l(function(t){return t.leaderboard.selectedAddress}),n=t||e,r=tt(n),a=V();return{address:n,result:r,leaderboardLoadingState:a}},tn=function(){var t=J(),e=W();return{isLoadingHistory:t,history:e}}},85251:function(t,e,n){n.d(e,{E3:function(){return w},G$:function(){return J},Mk:function(){return q},S9:function(){return L},Ub:function(){return _},WB:function(){return M},Yq:function(){return $},bq:function(){return D},dG:function(){return R},l3:function(){return W},nI:function(){return I},nQ:function(){return U},uP:function(){return T},uw:function(){return O},vR:function(){return j}});var r,a,o,u,i,l=n(98788),s=n(47842),c=n(70865),d=n(96670),f=n(87394),m=n(50930),p=n(5163),h=n(34253),B=n(10528),b=n(59656),A=n(55324),v=n.n(A),g=n(98537),k=n.n(g),Z=n(2689),y=n.n(Z),C=n(42208),N=n.n(C),S=n(93638),E=n(6429),F=n(87799),P=n(51014),H=n(21124),w={status:S.Gw.INITIAL,chartView:S.RU.Chainlink,isLoading:!1,isHistoryPaneOpen:!1,isChartPaneOpen:!1,isFetchingHistory:!1,historyFilter:S.dZ.ALL,currentEpoch:0,intervalSeconds:300,minBetAmount:"10000000000000",bufferSeconds:60,rounds:{},history:[],totalHistory:0,currentHistoryPage:1,hasHistoryLoaded:!1,ledgers:{},claimableStatuses:{},leaderboard:{selectedAddress:null,loadingState:E.iF.Idle,filters:{address:null,orderBy:"totalBets",timePeriod:"all"},skip:0,hasMoreResults:!0,addressResults:{},results:[]}},O=(0,h.hg)("predictions/initialize",(0,l.Z)(function(){var t,e,n,r,a,o,u,i,l,m,h=arguments;return(0,p.__generator)(this,function(a){switch(a.label){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:null,e=(h.length>1?h[1]:void 0).extra,[4,(0,P.n)(e.address)];case 1:return r=(n=a.sent()).currentEpoch>F.v9?y()(n.currentEpoch,n.currentEpoch-F.v9):[n.currentEpoch],[4,(0,P.$8)(r,e.address)];case 2:if(o=a.sent().reduce(function(t,e){var n=(0,P.WB)(e);return(0,d.Z)((0,c.Z)({},t),(0,s.Z)({},n.epoch.toString(),n))},{}),u=(0,d.Z)((0,c.Z)({},n),{rounds:o,ledgers:{},claimableStatuses:{}}),!t)return[2,u];return[4,Promise.all([(0,P.Tq)(t,r,e.address),(0,P.jG)(t,r,e.address)])];case 3:return l=(i=f.Z.apply(void 0,[a.sent(),2]))[0],m=i[1],[2,k()({},u,{ledgers:(0,P.a8)(t,l,r),claimableStatuses:m})]}})})),L=(0,h.hg)("predictions/fetchPredictionData",(0,l.Z)(function(){var t,e,n,r,a,o,u,i,l,m,h,B,b,A,v,g=arguments;return(0,p.__generator)(this,function(l){switch(l.label){case 0:return t=g.length>0&&void 0!==g[0]?g[0]:null,e=(g.length>1?g[1]:void 0).extra,[4,(0,P.n)(e.address)];case 1:return r=(n=l.sent()).status,a=n.currentEpoch,o=n.intervalSeconds,u=n.minBetAmount,i=[a,a-1,a-2],[4,(0,P.$8)(i,e.address)];case 2:if(h={status:r,currentEpoch:a,intervalSeconds:o,minBetAmount:u,rounds:l.sent().reduce(function(t,e){if(!e)return t;var n=(0,P.WB)(e);return(0,d.Z)((0,c.Z)({},t),(0,s.Z)({},n.epoch.toString(),n))},{}),ledgers:{},claimableStatuses:{}},!t)return[2,h];return B=a>F.v9?y()(a,a-F.v9):[a],[4,Promise.all([(0,P.Tq)(t,B,e.address),(0,P.jG)(t,B,e.address)])];case 3:return A=(b=f.Z.apply(void 0,[l.sent(),2]))[0],v=b[1],[2,k()({},h,{ledgers:(0,P.a8)(t,A,B),claimableStatuses:v})]}})})),_=(0,h.hg)("predictions/fetchLedgerData",(r=(0,l.Z)(function(t,e){var n,r,a,o;return(0,p.__generator)(this,function(u){switch(u.label){case 0:return n=t.account,r=t.epochs,a=e.extra,[4,(0,P.Tq)(n,r,a.address)];case 1:return o=u.sent(),[2,(0,P.a8)(n,o,r)]}})}),function(t,e){return r.apply(this,arguments)})),T=(0,h.hg)("predictions/fetchNodeHistory",(a=(0,l.Z)(function(t,e){var n,r,a,o,u,i,l,s,c,d,h,A,v,g,k,Z,y;return(0,p.__generator)(this,function(p){switch(p.label){case 0:return n=t.account,a=void 0===(r=t.page)?1:r,o=e.getState,u=e.extra,[4,(0,P.t$)(n,u.address)];case 1:if(l={bets:[],claimableStatuses:{},totalHistory:(i=p.sent()).toNumber()},s=i.lte(F.yg)?1:Math.ceil(i.toNumber()/F.yg),i.eq(0)||a>s)return[2,l];return c=i.sub(F.yg*a),d=s===a?i.sub(F.yg*(a-1)).toNumber():F.yg,[4,(0,P.oO)(n,c.lt(0)?0:c.toNumber(),d,u.address)];case 2:if(!(h=p.sent()))return[2,l];return A=Object.keys(h).map(function(t){return Number(t)}),[4,Promise.all([(0,P.$8)(A,u.address),(0,P.jG)(n,A,u.address)])];case 3:return g=(v=f.Z.apply(void 0,[p.sent(),2]))[0],k=v[1],Z=o().bufferSeconds,[2,{bets:g.reduce(function(t,e){var n=h[e.epoch.toNumber()],r=B.O$.from(n.amount),a=e.closePrice?parseFloat((0,b.formatUnits)(e.closePrice,8)):null,o=e.lockPrice?parseFloat((0,b.formatUnits)(e.lockPrice,8)):null;return(0,m.Z)(t).concat([{id:null,hash:null,amount:parseFloat((0,b.formatUnits)(r)),position:n.position,claimed:n.claimed,claimedAt:null,claimedHash:null,claimedBNB:0,claimedNetBNB:0,createdAt:null,updatedAt:null,block:0,round:{id:null,epoch:e.epoch.toNumber(),failed:(0,P.HJ)(e.oracleCalled,e.closeTimestamp.eq(0)?null:e.closeTimestamp.toNumber(),Z),startBlock:null,startAt:e.startTimestamp?e.startTimestamp.toNumber():null,startHash:null,lockAt:e.lockTimestamp?e.lockTimestamp.toNumber():null,lockBlock:null,lockPrice:o,lockHash:null,lockRoundId:e.lockOracleId?e.lockOracleId.toString():null,closeRoundId:e.closeOracleId?e.closeOracleId.toString():null,closeHash:null,closeAt:null,closePrice:a,closeBlock:null,totalBets:0,totalAmount:parseFloat((0,b.formatUnits)(e.totalAmount)),bullBets:0,bullAmount:parseFloat((0,b.formatUnits)(e.bullAmount)),bearBets:0,bearAmount:parseFloat((0,b.formatUnits)(e.bearAmount)),position:a?e.closePrice.eq(e.lockPrice)?S.Tu.HOUSE:e.closePrice.gt(e.lockPrice)?S.Tu.BULL:S.Tu.BEAR:null}},])},[]),claimableStatuses:k,page:a,totalHistory:i.toNumber()}]}})}),function(t,e){return a.apply(this,arguments)})),R=(0,h.hg)("predictions/filterLeaderboard",(o=(0,l.Z)(function(t,e){var n,r,a,o;return(0,p.__generator)(this,function(u){switch(u.label){case 0:return n=t.filters,r=e.extra,[4,(0,P.D)({skip:0,orderBy:n.orderBy,where:(0,s.Z)({totalBets_gte:F.eQ},"".concat(n.orderBy,"_gt"),0)},r.api,r.token.symbol)];case 1:return a=u.sent(),o=(0,P.r3)(r.token.symbol),[2,{results:a.map(o)}]}})}),function(t,e){return o.apply(this,arguments)})),I=(0,h.hg)("predictions/fetchAddressResult",(u=(0,l.Z)(function(t,e){var n,r,a;return(0,p.__generator)(this,function(o){switch(o.label){case 0:return n=e.rejectWithValue,r=e.extra,[4,(0,P.s9)(t,r.api,r.token.symbol)];case 1:if(!(a=o.sent()))return[2,n(t)];return[2,{account:t,data:(0,P.r3)(r.token.symbol)(a)}]}})}),function(t,e){return u.apply(this,arguments)})),q=(0,h.hg)("predictions/filterNextPageLeaderboard",(i=(0,l.Z)(function(t,e){var n,r,a,o,u;return(0,p.__generator)(this,function(i){switch(i.label){case 0:return n=e.getState,r=e.extra,a=n(),[4,(0,P.D)({skip:t,orderBy:a.leaderboard.filters.orderBy,where:(0,s.Z)({totalBets_gte:F.eQ},"".concat(a.leaderboard.filters.orderBy,"_gt"),0)},r.api,r.token.symbol)];case 1:return o=i.sent(),u=(0,P.r3)(r.token.symbol),[2,{results:o.map(u),skip:t}]}})}),function(t,e){return i.apply(this,arguments)})),K=(0,h.oM)({name:"predictions",initialState:w,reducers:{setLeaderboardFilter:function(t,e){t.leaderboard.filters=(0,c.Z)({},t.leaderboard.filters,e.payload),t.leaderboard.skip=0,t.leaderboard.hasMoreResults=!0},setHistoryPaneState:function(t,e){t.isHistoryPaneOpen=e.payload,t.historyFilter=S.dZ.ALL},setChartPaneState:function(t,e){t.isChartPaneOpen=e.payload},setChartView:function(t,e){t.chartView=e.payload},setHistoryFilter:function(t,e){t.historyFilter=e.payload},markAsCollected:function(t,e){t.claimableStatuses=(0,c.Z)({},t.claimableStatuses,e.payload)},setSelectedAddress:function(t,e){t.leaderboard.selectedAddress=e.payload}},extraReducers:function(t){t.addCase(H.tZ,function(t){t.claimableStatuses={},t.ledgers={},t.isFetchingHistory=!1,t.history=[],t.hasHistoryLoaded=!1,t.totalHistory=0,t.currentHistoryPage=1}),t.addCase(R.pending,function(t){t.leaderboard.loadingState===E.iF.Fetched&&(t.leaderboard.loadingState=E.iF.Fetching)}),t.addCase(R.fulfilled,function(t,e){var n=e.payload.results;t.leaderboard.loadingState=E.iF.Fetched,t.leaderboard.results=n,n.length<P.ub&&(t.leaderboard.hasMoreResults=!1),t.leaderboard.addressResults=(0,c.Z)({},t.leaderboard.addressResults,n.reduce(function(t,e){return(0,d.Z)((0,c.Z)({},t),(0,s.Z)({},e.id,e))},{}))}),t.addCase(I.pending,function(t){t.leaderboard.loadingState=E.iF.Fetching}),t.addCase(I.fulfilled,function(t,e){var n=e.payload,r=n.account,a=n.data;t.leaderboard.loadingState=E.iF.Fetched,t.leaderboard.addressResults[r]=a}),t.addCase(I.rejected,function(t,e){t.leaderboard.loadingState=E.iF.Fetched,t.leaderboard.addressResults[e.payload]=null}),t.addCase(q.pending,function(t){t.leaderboard.loadingState=E.iF.Fetching}),t.addCase(q.fulfilled,function(t,e){var n=e.payload,r=n.results,a=n.skip;t.leaderboard.loadingState=E.iF.Fetched,t.leaderboard.results=(0,m.Z)(t.leaderboard.results).concat((0,m.Z)(r)),t.leaderboard.skip=a,r.length<P.ub&&(t.leaderboard.hasMoreResults=!1)}),t.addCase(_.fulfilled,function(t,e){t.ledgers=k()({},t.ledgers,e.payload)}),t.addCase(L.fulfilled,function(t,e){var n=e.payload,r=n.status,a=n.currentEpoch,o=n.intervalSeconds,u=n.minBetAmount,i=n.rounds,l=n.claimableStatuses,f=n.ledgers,m=k()({},t.rounds,i),p=N()(m,function(e,n){return Number(n)>t.currentEpoch-F.v9});if(t.currentEpoch!==a){var h=v()(Object.values(t.rounds),"epoch"),B=(0,P.CM)(h.epoch+1,h.startTimestamp+o+F.fq);p=(0,d.Z)((0,c.Z)({},p),(0,s.Z)({},B.epoch,B))}t.status=r,t.currentEpoch=a,t.intervalSeconds=o,t.minBetAmount=u,t.claimableStatuses=k()({},t.claimableStatuses,l),t.ledgers=k()({},t.ledgers,f),t.rounds=p}),t.addCase(O.fulfilled,function(t,e){for(var n=e.payload,r=n.status,a=n.currentEpoch,o=n.intervalSeconds,u=n.rounds,i=n.claimableStatuses,l=n.ledgers,s=[],f=u[a],m=1;m<=F.ND;m++)s.push((0,P.CM)(a+m,f.startTimestamp+o*m));return(0,d.Z)((0,c.Z)({},t),{status:r,currentEpoch:a,intervalSeconds:o,claimableStatuses:i,ledgers:l,rounds:k()({},u,(0,P.D5)(s))})}),t.addCase(T.pending,function(t){t.isFetchingHistory=!0}),t.addCase(T.rejected,function(t){t.isFetchingHistory=!1}),t.addCase(T.fulfilled,function(t,e){var n=e.payload,r=n.bets,a=n.claimableStatuses,o=n.page,u=n.totalHistory;t.isFetchingHistory=!1,t.history=1===o?r:(0,m.Z)(t.history).concat((0,m.Z)(r)),t.claimableStatuses=(0,c.Z)({},t.claimableStatuses,a),t.hasHistoryLoaded=t.history.length===u||0===r.length,t.totalHistory=u,t.currentHistoryPage=o})}}),x=K.actions,U=x.setChartPaneState,D=x.setChartView,$=x.setHistoryFilter,j=x.setHistoryPaneState,M=x.markAsCollected,J=x.setLeaderboardFilter,W=x.setSelectedAddress;e.ZP=K.reducer},17823:function(t,e,n){n.d(e,{ZP:function(){return i},ZR:function(){return u}});var r=n(52322),a=n(2784),o=(0,a.createContext)(null);function u(){return(0,a.useContext)(o)}function i(t){var e=t.children,n=t.config;return(0,r.jsx)(o.Provider,{value:n,children:e})}},995:function(t,e,n){n.d(e,{Z:function(){return g}});var r=n(52322),a=n(2784),o=n(99022),u=n(34253),i=n(93638),l=n(85251),s=n(5632),c=n(79085),d=n.n(c),f=n(17823),m=n(51642),p=n(10494),h=n(70627),B=n(6978),b=n(10528).O$.from(1e4),A={BNB:{address:(0,h.Kn)(m.Z.predictionsBNB),api:p.GZ,chainlinkOracleAddress:(0,h.Kn)(m.Z.chainlinkOracleBNB),minPriceUsdDisplayed:b,displayedDecimals:4,token:B.d.bnb},CAKE:{address:(0,h.Kn)(m.Z.predictionsCAKE),api:p.fO,chainlinkOracleAddress:(0,h.Kn)(m.Z.chainlinkOracleCAKE),minPriceUsdDisplayed:b,displayedDecimals:4,token:B.d.cake}},v="prediction-token",g=function(t){var e=t.children,n=(0,s.useRouter)().query.token,c=(0,a.useState)(function(){var t=null==localStorage?void 0:localStorage.getItem(v);return[i.ru.BNB,i.ru.CAKE].includes(t)?t:i.ru.CAKE}),m=c[0],p=c[1];(0,a.useEffect)(function(){var t=d()(n);[i.ru.BNB,i.ru.CAKE].includes(t)&&(p(t),null==localStorage||localStorage.setItem(v,t))},[n]);var h=(0,a.useMemo)(function(){return A[m]},[m]),B=(0,a.useMemo)(function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return(0,u.xC)({reducer:t,middleware:function(t){return t({thunk:{extraArgument:n}})},preloadedState:e})}(l.ZP,l.E3,h)},[h]);return(0,r.jsx)(f.ZP,{config:h,children:(0,r.jsx)(o.Z,{store:B,children:e})})}},95134:function(t,e,n){var r=n(92228),a=n(3411),o=n(78545);function u(){var t=(0,r.Z)(["\n  ","\n"]);return u=function(){return t},t}var i=a.ZP.div.withConfig({componentId:"sc-df4f0a61-0"})(u(),o.Dh);i.defaultProps={p:"24px"},e.Z=i},52180:function(t,e,n){var r=n(70865),a=n(96670),o=n(52322);n(2784);var u=n(62923),i=function(t){return(0,o.jsx)(u.Z,(0,a.Z)((0,r.Z)({viewBox:"0 0 24 24"},t),{children:(0,o.jsx)("path",{d:"M11 5V16.17L6.11997 11.29C5.72997 10.9 5.08997 10.9 4.69997 11.29C4.30997 11.68 4.30997 12.31 4.69997 12.7L11.29 19.29C11.68 19.68 12.31 19.68 12.7 19.29L19.29 12.7C19.68 12.31 19.68 11.68 19.29 11.29C18.9 10.9 18.27 10.9 17.88 11.29L13 16.17V5C13 4.45 12.55 4 12 4C11.45 4 11 4.45 11 5Z"})}))};e.Z=i},77651:function(t,e,n){var r=n(70865),a=n(96670),o=n(52322);n(2784);var u=n(62923),i=function(t){return(0,o.jsx)(u.Z,(0,a.Z)((0,r.Z)({viewBox:"0 0 24 24"},t),{children:(0,o.jsx)("path",{d:"M8.11997 9.29006L12 13.1701L15.88 9.29006C16.27 8.90006 16.9 8.90006 17.29 9.29006C17.68 9.68006 17.68 10.3101 17.29 10.7001L12.7 15.2901C12.31 15.6801 11.68 15.6801 11.29 15.2901L6.69997 10.7001C6.30997 10.3101 6.30997 9.68006 6.69997 9.29006C7.08997 8.91006 7.72997 8.90006 8.11997 9.29006Z"})}))};e.Z=i},81916:function(t,e,n){var r=n(70865),a=n(96670),o=n(52322);n(2784);var u=n(62923),i=function(t){return(0,o.jsx)(u.Z,(0,a.Z)((0,r.Z)({viewBox:"0 0 24 24"},t),{children:(0,o.jsx)("path",{d:"M8.11997 14.7101L12 10.8301L15.88 14.7101C16.27 15.1001 16.9 15.1001 17.29 14.7101C17.68 14.3201 17.68 13.6901 17.29 13.3001L12.7 8.7101C12.31 8.3201 11.68 8.3201 11.29 8.7101L6.69997 13.3001C6.30997 13.6901 6.30997 14.3201 6.69997 14.7101C7.08997 15.0901 7.72997 15.1001 8.11997 14.7101Z"})}))};e.Z=i}}]);
//# sourceMappingURL=8648-5d7365ad9fd5da89.js.map