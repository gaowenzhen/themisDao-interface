(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6619],{9388:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add/[[...currency]]",function(){return i(80086)}])},21834:function(e,n,i){"use strict";i.d(n,{Z:function(){return j}});var o=i(87394),t=i(92228),r=i(52322),l=i(62208),d=i(89495),s=i(73697),a=i(11298),c=i(48608),u=i(65957),p=i(3411),v=i(26830),h=i(77253),g=i(91790),x=i(5305),m=i(94250),y=i(76166),C=i(31196);function R(){var e=(0,t.Z)(["\n  padding: 8px 0;\n  width: 100%;\n  max-width: 400px;\n  border-bottom-left-radius: 20px;\n  border-bottom-right-radius: 20px;\n  color: ",";\n  background-color: ",";\n  text-align: center;\n"]);return R=function(){return e},e}var N=p.ZP.div.withConfig({componentId:"sc-e6bb4bce-0"})(R(),function(e){return e.theme.colors.text},function(e){return e.theme.colors.invertedContrast}),f=function(e){var n=e.currencies,i=e.onDismiss,o=(0,y.g)().chainId,t=(0,u.$G)().t,a=o&&n?n.map(function(e){return(0,m.pu)(e,o)}):[],c=(0,C.l6)();return(0,r.jsx)(l.ZP,{title:t("Unsupported Assets"),onDismiss:i,children:(0,r.jsxs)(h.Tz,{gap:"lg",children:[a.map(function(e){var n;return e&&c&&Object.keys(c).includes(e.address)&&(0,r.jsxs)(h.Tz,{gap:"10px",children:[(0,r.jsxs)(v.BA,{gap:"5px",align:"center",children:[(0,r.jsx)(g.Xw,{currency:e,size:"24px"}),(0,r.jsx)(d.Z,{children:e.symbol})]}),o&&(0,r.jsx)(s.Z,{external:!0,small:!0,color:"primaryDark",href:(0,x.C)(e.address,"address",o),children:e.address})]},null===(n=e.address)||void 0===n?void 0:n.concat("not-supported"))}),(0,r.jsx)(h.Tz,{gap:"lg",children:(0,r.jsx)(d.Z,{children:t("Some assets are not available through this interface because they may not work well with our smart contract or we are unable to allow trading for legal reasons.")})})]})})};function j(e){var n=e.currencies,i=(0,u.$G)().t,t=(0,o.Z)((0,a.Z)((0,r.jsx)(f,{currencies:n})),1)[0];return(0,r.jsx)(N,{children:(0,r.jsx)(c.Z,{variant:"text",onClick:t,children:i("Read more about unsupported assets")})})}},80086:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return e3},default:function(){return e8}});var o,t=i(70865),r=i(26297),l=i(87394),d=i(52322),s=i(6465),a=i(31196),c=i(5369),u=i(5632),p=i(2784),v=i(44291),h=i(84709),g=i(5650),x=i(98788),m=i(47842),y=i(96670),C=i(50930),R=i(5163),N=i(10528),f=i(90902),j=i(69689),b=i(11298),E=i(95134),A=i(76660),Z=i(89495),B=i(29420),U=i(48608),_=i(83931),S=i(20233),w=i(19061),T=i(65957),k=i(21834),Y=i(76269),q=i(65342),I=i(70627),P=i(49384),z=i(50288),M=i(72179),D=i(20277),L=i(38662),F=i(92794),O=i(3601),G=i(27156),V=i(77253),H=i(46317),K=i(74939),Q=i(45366),X=i(26830),$=i(39480),W=i(82055),J=i(55706),ee=i(61558),en=i(39113),ei=i(52284),eo=i(72135),et=i(5305),er=i(95707),el=i(6973),ed=i(94250),es=i(51991),ea=function(e){var n,i,o,t,r,l,s,a,c,u,p,v,g=e.currencies,x=e.noLiquidity,m=e.poolTokenPercentage,y=e.price,C=(0,T.$G)().t;return(0,d.jsx)(V.Tz,{gap:"md",children:(0,d.jsxs)(X.BA,{justify:"space-around",gap:"4px",children:[(0,d.jsxs)(V.Tz,{justify:"center",children:[(0,d.jsx)(Z.Z,{children:null!==(l=null==y?void 0:y.toSignificant(6))&&void 0!==l?l:"-"}),(0,d.jsx)(Z.Z,{fontSize:"14px",pt:1,children:C("%assetA% per %assetB%",{assetA:null!==(s=null===(n=g[h.gN.CURRENCY_B])||void 0===n?void 0:n.symbol)&&void 0!==s?s:"",assetB:null!==(a=null===(i=g[h.gN.CURRENCY_A])||void 0===i?void 0:i.symbol)&&void 0!==a?a:""})})]}),(0,d.jsxs)(V.Tz,{justify:"center",children:[(0,d.jsx)(Z.Z,{children:null!==(c=null===(o=null==y?void 0:y.invert())||void 0===o?void 0:o.toSignificant(6))&&void 0!==c?c:"-"}),(0,d.jsx)(Z.Z,{fontSize:"14px",pt:1,children:C("%assetA% per %assetB%",{assetA:null!==(u=null===(t=g[h.gN.CURRENCY_A])||void 0===t?void 0:t.symbol)&&void 0!==u?u:"",assetB:null!==(p=null===(r=g[h.gN.CURRENCY_B])||void 0===r?void 0:r.symbol)&&void 0!==p?p:""})})]}),(0,d.jsxs)(V.Tz,{justify:"center",children:[(0,d.jsxs)(Z.Z,{children:[x&&y?"100":null!==(v=(null==m?void 0:m.lessThan(F.IS))?"<0.01":null==m?void 0:m.toFixed(2))&&void 0!==v?v:"0","%"]}),(0,d.jsx)(Z.Z,{fontSize:"14px",pt:1,children:C("Share of Pool")})]})]})})},ec=i(27023),eu=i(23475),ep=i(80194),ev=i(7642),eh=i.n(ev),eg=i(92228),ex=i(13670),em=i(62923),ey=i(76903),eC=i(3411),eR=i(91790);function eN(){var e=(0,eg.Z)(["\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n"]);return eN=function(){return e},e}var ef=(0,eC.ZP)(ex.Z).withConfig({componentId:"sc-7c8deb2-0"})(eN()),ej=function(e){var n=e.percent,i=(0,r.Z)(e,["percent"]);return(0,d.jsxs)(em.Z,(0,y.Z)((0,t.Z)({width:"60px",height:"60px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),{children:[(0,d.jsxs)("g",{filter:"url(#filter0_i_1147_113741)",children:[(0,d.jsx)("circle",{r:"10",cx:"10",cy:"10",fill:"#7645D9"}),(0,d.jsx)("circle",{r:"5",cx:"10",cy:"10",fill:"transparent",stroke:"#1FC7D4",strokeWidth:"10",strokeDasharray:"calc(".concat(100*(void 0===n?1:n),"px * 31.4 / 100) 31.4"),transform:"rotate(-90) translate(-20)"})]}),(0,d.jsx)("defs",{children:(0,d.jsxs)("filter",{id:"filter0_i_1147_113741",x:0,y:0,width:60,height:60,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,d.jsx)("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),(0,d.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,d.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,d.jsx)("feOffset",{dy:-2}),(0,d.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:-1,k3:1}),(0,d.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,d.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_1147_113741"})]})})]}))},eb=function(e){var n=e.children;return(0,d.jsx)(Z.Z,{fontSize:"12px",textTransform:"uppercase",bold:!0,color:"secondary",children:n})},eE=function(e){var n=e.title,i=e.percent,o=e.currencyA,t=e.currencyB,r=e.currencyAValue,l=e.currencyBValue,s=e.tooltipTargetRef;return(0,d.jsxs)(V.Tz,{gap:"8px",children:[(0,d.jsx)(eb,{children:n}),(0,d.jsxs)(ey.Z,{children:[void 0!==i&&(0,d.jsx)("div",{ref:s,children:(0,d.jsx)(ej,{percent:i,mr:"34px"})}),(0,d.jsxs)(V.Tz,{style:{width:"100%"},children:[o&&(0,d.jsxs)(X.m0,{children:[(0,d.jsxs)(X.BA,{gap:"4px",children:[(0,d.jsx)(ef,{bg:"primary"}),(0,d.jsx)(eR.Xw,{currency:o}),(0,d.jsx)(Z.Z,{children:null==o?void 0:o.symbol})]}),(0,d.jsx)(Z.Z,{children:r})]}),t&&(0,d.jsxs)(X.m0,{children:[(0,d.jsxs)(X.BA,{gap:"4px",children:[(0,d.jsx)(ef,{bg:"secondary"}),(0,d.jsx)(eR.Xw,{currency:t}),(0,d.jsx)(Z.Z,{children:null==t?void 0:t.symbol})]}),(0,d.jsx)(Z.Z,{children:l})]})]})]})]})},eA=function(e){var n,i,o,t,r,l,s,a,c,u=e.currencies,p=e.poolTokenPercentage,v=e.liquidityMinted,h=e.price,g=e.allowedSlippage,x=e.noLiquidity,m=e.children,y=(0,T.$G)().t,C=(0,j.Z)(y("Output is estimated. If the price changes by more than %slippage%% your transaction will revert.",{slippage:g/100}),{placement:"auto"}),R=C.tooltip,N=C.tooltipVisible,f=C.targetRef;return(0,d.jsxs)(V.Tz,{gap:"24px",children:[(0,d.jsxs)(V.Tz,{gap:"8px",children:[(0,d.jsx)(eb,{children:y("You will receive")}),(0,d.jsx)(G.h2,{children:(0,d.jsxs)(X.m0,{children:[(0,d.jsxs)(X.BA,{gap:"4px",children:[(0,d.jsx)(eR.ge,{currency0:u[ep.g.CURRENCY_A],currency1:u[ep.g.CURRENCY_B],size:24}),(0,d.jsx)(Z.Z,{color:"textSubtle",children:(null===(n=u[ep.g.CURRENCY_A])||void 0===n?void 0:n.symbol)&&(null===(i=u[ep.g.CURRENCY_B])||void 0===i?void 0:i.symbol)&&(0,z.z)(null===(o=u[ep.g.CURRENCY_A])||void 0===o?void 0:o.symbol,null===(t=u[ep.g.CURRENCY_B])||void 0===t?void 0:t.symbol,null===(r=u[ep.g.CURRENCY_A])||void 0===r?void 0:r.chainId)})]}),(0,d.jsx)(Z.Z,{ml:"8px",children:null==v?void 0:v.toSignificant(6)})]})})]}),(0,d.jsxs)(X.m0,{children:[(0,d.jsx)(eb,{children:y("Your pool share")}),(0,d.jsxs)(Z.Z,{children:[x?"100":null==p?void 0:p.toSignificant(4),"%"]})]}),(0,d.jsx)(V.Tz,{gap:"8px",children:m}),(0,d.jsxs)(V.Tz,{children:[(0,d.jsxs)(X.m0,{children:[(0,d.jsx)(eb,{children:y("Rates")}),(0,d.jsx)(Z.Z,{children:"1 ".concat(null===(l=u[ep.g.CURRENCY_A])||void 0===l?void 0:l.symbol," = ").concat(null==h?void 0:h.toSignificant(4)," ").concat(null===(s=u[ep.g.CURRENCY_B])||void 0===s?void 0:s.symbol)})]}),(0,d.jsx)(X.m0,{style:{justifyContent:"flex-end"},children:(0,d.jsx)(Z.Z,{children:"1 ".concat(null===(a=u[ep.g.CURRENCY_B])||void 0===a?void 0:a.symbol," = ").concat(null==h?void 0:h.invert().toSignificant(4)," ").concat(null===(c=u[ep.g.CURRENCY_A])||void 0===c?void 0:c.symbol)})})]}),!x&&(0,d.jsxs)(X.m0,{children:[(0,d.jsx)(eb,{children:y("Slippage Tolerance")}),(0,d.jsxs)(_.Z,{ref:f,children:[g/100,"%"]}),N&&R]})]})},eZ=function(e){var n=e.title,i=e.onDismiss,o=e.customOnDismiss,t=e.attemptingTxn,r=e.hash,l=e.pendingText,s=e.price,a=e.currencies,c=e.noLiquidity,u=e.allowedSlippage,v=e.parsedAmounts,h=e.liquidityErrorMessage,g=e.onAdd,x=e.poolTokenPercentage,m=e.liquidityMinted,y=e.currencyToAdd,C=e.isStable,R=(0,T.$G)().t,N=.5;if(C&&v[ep.g.CURRENCY_A]&&v[ep.g.CURRENCY_B]){var f=eh()(v[ep.g.CURRENCY_A].toSignificant(6)),j=eh()(v[ep.g.CURRENCY_B].toSignificant(6));N=f/(f+j)}var b=(0,p.useCallback)(function(){var e,n;return(0,d.jsx)(eA,{allowedSlippage:u,currencies:a,liquidityMinted:m,poolTokenPercentage:x,price:s,noLiquidity:c,children:(0,d.jsx)(eE,{title:R("Input"),percent:N,currencyA:a[ep.g.CURRENCY_A],currencyAValue:null===(e=v[ep.g.CURRENCY_A])||void 0===e?void 0:e.toSignificant(6),currencyB:a[ep.g.CURRENCY_B],currencyBValue:null===(n=v[ep.g.CURRENCY_B])||void 0===n?void 0:n.toSignificant(6)})})},[u,N,a,m,c,v,x,s,R]),E=(0,p.useCallback)(function(){return(0,d.jsx)(U.Z,{width:"100%",onClick:g,mt:"20px",children:c?R("Create Pool & Supply"):R("Confirm Supply")})},[c,g,R]),A=(0,p.useCallback)(function(){return h?(0,d.jsx)(eu.ht,{onDismiss:i,message:h}):(0,d.jsx)(eu.pM,{topContent:b,bottomContent:E})},[i,E,b,h]);return(0,d.jsx)(eu.ZP,{minWidth:["100%",,"420px"],title:n,onDismiss:i,customOnDismiss:o,attemptingTxn:t,currencyToAdd:y,hash:r,content:A,pendingText:l})},eB=i(52180),eU=i(34508),e_=i(76166),eS=i(97794),ew=function(e){var n,i,o,t,r=e.title,s=e.onDismiss,a=e.customOnDismiss,c=e.attemptingTxn,u=e.hash,v=e.pendingText,h=e.price,g=e.currencies,x=e.zapSwapTokenField,y=e.zapSwapOutTokenField,C=e.allowedSlippage,R=e.parsedAmounts,N=e.liquidityErrorMessage,b=e.onAdd,E=e.poolTokenPercentage,A=e.liquidityMinted,B=e.pair,_=e.zapInEstimated,S=e.rebalancing,w=e.zapMode,k=e.toggleZapMode,Y=(0,T.$G)().t,q=(0,e_.g)().chainId,I=(0,eU.Z)(B.liquidityToken),P=R[x],z=R[y],M=(0,j.Z)(P&&!z?Y("There is no %token1% input. Half of %token0% input is converted into %token1% to add liquidity.",{token0:null===(n=g[x])||void 0===n?void 0:n.symbol,token1:null===(i=g[y])||void 0===i?void 0:i.symbol}):Y("There is not enough %token1% input to match 50/50. Some of %token0% will be converted to %token1%",{token0:null===(o=g[x])||void 0===o?void 0:o.symbol,token1:null===(t=g[y])||void 0===t?void 0:t.symbol}),{placement:"auto-start"}),D=M.targetRef,L=M.tooltip,F=M.tooltipVisible,O=(0,l.Z)(B&&I&&A&&f.QA.greaterThanOrEqual(I.quotient,A.quotient)?[B.getLiquidityValue(B.token0,I,A,!1),B.getLiquidityValue(B.token1,I,A,!1),]:[void 0,void 0],2),G=O[0],H=O[1],K=(0,p.useMemo)(function(){return _&&f.ih.fromRawAmount((0,ed.pu)(g[x],q),_.swapAmountIn.toString())},[q,g,_,x]),Q=(0,p.useMemo)(function(){return(null==_?void 0:_.swapAmountOut)&&f.ih.fromRawAmount((0,ed.pu)(g[y],q),_.swapAmountOut.toString())},[q,g,null==_?void 0:_.swapAmountOut,y]),$=(0,p.useMemo)(function(){var e;return P&&z?Math.min(Math.max(e=+P.toExact()/+z.toExact()/(+B.priceOf(z.currency.wrapped).toSignificant()+ +P.toExact()/+z.toExact()),.05),.95):P&&!z?1:void 0},[B,P,z]),W=(0,p.useMemo)(function(){var e;return e={},(0,m.Z)(e,x,(null==K?void 0:K.currency)&&(null==B?void 0:B.token0)?B.token0.equals(K.currency)?G:H:void 0),(0,m.Z)(e,y,(null==Q?void 0:Q.currency)&&(null==B?void 0:B.token1)?B.token1.equals(Q.currency)?H:G:void 0),e},[B.token0,B.token1,null==K?void 0:K.currency,null==Q?void 0:Q.currency,G,H,y,x,]),J=(0,p.useCallback)(function(){var e,n;return(0,d.jsxs)(eA,{allowedSlippage:C,currencies:g,liquidityMinted:A,poolTokenPercentage:E,price:h,children:[(0,d.jsx)(eE,{title:Y("Input"),percent:$,currencyA:P?g[x]:void 0,currencyAValue:null==P?void 0:P.toSignificant(6),currencyB:z?g[y]:void 0,currencyBValue:null==z?void 0:z.toSignificant(6)}),Q&&K&&g[x]&&g[y]&&(0,d.jsxs)(V.Tz,{justify:"center",gap:"16px",children:[(0,d.jsx)(eB.Z,{color:"textSubtle"}),(0,d.jsxs)(X.BA,{gap:"6px",justify:"center",children:[(0,d.jsxs)(X.DA,{gap:"2px",children:[(0,d.jsx)(Z.Z,{children:null==K?void 0:K.toSignificant(6)}),(0,d.jsx)(eR.Xw,{currency:g[x]}),(0,d.jsx)(Z.Z,{children:g[x].symbol})]}),(0,d.jsx)(Z.Z,{children:Y("to")}),(0,d.jsxs)(X.DA,{gap:"2px",children:[(0,d.jsx)(Z.Z,{children:null==Q?void 0:Q.toSignificant(6)}),(0,d.jsx)(eR.Xw,{currency:g[y]}),(0,d.jsx)(Z.Z,{children:g[y].symbol})]})]}),(0,d.jsx)(eB.Z,{color:"textSubtle"})]}),(0,d.jsxs)(V.Tz,{gap:"4px",children:[F&&L,(0,d.jsx)(eE,{tooltipTargetRef:D,title:Y("Pooled"),percent:.5,currencyA:g[x],currencyAValue:null==W?void 0:null===(e=W[x])||void 0===e?void 0:e.toSignificant(6),currencyB:g[y],currencyBValue:null==W?void 0:null===(n=W[y])||void 0===n?void 0:n.toSignificant(6)})]})]})},[C,g,A,E,h,Y,$,P,x,z,y,Q,K,L,F,D,W,]),ee=(0,p.useCallback)(function(){return(0,d.jsx)(U.Z,{width:"100%",onClick:b,mt:"20px",children:Y("Confirm Supply")})},[b,Y]),en=(0,p.useCallback)(function(){return N?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(eS.p,{isSingleToken:!S,zapMode:w,toggleZapMode:k,onModalDismiss:s}),(0,d.jsx)(eu.ht,{onDismiss:s,message:N})]}):(0,d.jsx)(eu.pM,{topContent:J,bottomContent:ee})},[N,S,w,k,s,J,ee]);return(0,d.jsx)(eu.ZP,{minWidth:["100%",,"420px"],title:r,onDismiss:s,customOnDismiss:a,attemptingTxn:c,currencyToAdd:null==B?void 0:B.liquidityToken,hash:u,content:en,pendingText:v})},eT=i(59482),ek=i(67252),eY=i(20345),eq=i(79051),eI=i(18426),eP=i(33472),ez=i(36695),eM=i(51523);function eD(){var e=(0,eg.Z)(["\n  width: 100%;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0px 16px;\n  box-shadow: ",";\n  border: 1px solid ",";\n  border-radius: 16px;\n  background: ",";\n  transition: border-radius 0.15s;\n"]);return eD=function(){return e},e}function eL(){var e=(0,eg.Z)(["\n  cursor: pointer;\n  width: 100%;\n  position: relative;\n  background: ",";\n  border-radius: 16px;\n  height: 40px;\n  min-width: 136px;\n  user-select: none;\n  z-index: 20;\n\n  "," {\n    min-width: 168px;\n  }\n\n  .down-icon {\n    position: absolute;\n    right: 16px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]);return eL=function(){return e},e}var eF=eC.ZP.div.withConfig({componentId:"sc-8499ba36-0"})(eD(),function(e){return e.theme.shadows.inset},function(e){return e.theme.colors.inputSecondary},function(e){return e.theme.colors.input}),eO=(0,eC.ZP)(U.Z).withConfig({componentId:"sc-8499ba36-1"})(eL(),function(e){return e.theme.colors.input},function(e){return e.theme.mediaQueries.sm}),eG=function(e){var n,i=e.onCurrencySelect,o=e.selectedCurrency,s=e.otherSelectedCurrency,a=e.showCommonBases,c=e.commonBasesType,u=e.hideBalance,p=(0,r.Z)(e,["onCurrencySelect","selectedCurrency","otherSelectedCurrency","showCommonBases","commonBasesType","hideBalance"]),v=(0,eM.mA)().address,h=(0,eP._h)(null!=v?v:void 0,!u&&o?o:void 0),g=(0,T.$G)().t,x=(0,l.Z)((0,b.Z)((0,d.jsx)(eq.Z,{onCurrencySelect:i,selectedCurrency:o,otherSelectedCurrency:s,showCommonBases:a,commonBasesType:c})),1)[0],m=(0,ez.ZP)(h&&o?o:void 0),C=h&&(null==m?void 0:m.quote(h));return(0,d.jsxs)(ex.Z,(0,y.Z)((0,t.Z)({width:"100%"},p),{children:[(0,d.jsxs)(eO,{p:0,onClick:x,children:[(0,d.jsx)(eF,{children:(0,d.jsx)(Z.Z,{id:"pair",color:o?void 0:"text",children:o?(0,d.jsxs)(ey.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,d.jsx)(eR.Xw,{currency:o,size:"24px",style:{marginRight:"8px"}}),(0,d.jsx)(Z.Z,{id:"pair",bold:!0,children:o&&o.symbol&&o.symbol.length>20?"".concat(o.symbol.slice(0,4),"...").concat(o.symbol.slice(o.symbol.length-5,o.symbol.length)):null==o?void 0:o.symbol})]}):(0,d.jsx)(d.Fragment,{children:g("Select")})})}),(0,d.jsx)(eY.Z,{color:"text",className:"down-icon"})]}),v&&!!o&&!u&&(0,d.jsxs)(ex.Z,{children:[(0,d.jsxs)(X.BA,{justify:"space-between",gap:"2px",children:[(0,d.jsxs)(Z.Z,{color:"textSubtle",fontSize:"12px",children:[g("Balance"),":"]}),(0,d.jsx)(Z.Z,{fontSize:"12px",children:null!==(n=null==h?void 0:h.toSignificant(6))&&void 0!==n?n:g("Loading")})]}),(0,d.jsxs)(X.m0,{children:[(0,d.jsx)("div",{}),Number.isFinite(+(null==C?void 0:C.toExact()))&&(0,d.jsxs)(Z.Z,{fontSize:"12px",color:"textSubtle",children:["~$",(0,eI.uf)(+C.toExact())]})]})]})]}))},eV=i(84785),eH=i(34188),eK=i(36099),eQ=function(){var e=(0,c.Z)(),n=(0,u.useRouter)(),i=(0,l.Z)(n.query.currency||[],2),o=i[0],t=i[1],r=(0,p.useCallback)(function(e){var i=(0,eK.Z)(e);i===t?n.replace("/add/".concat(t,"/").concat(o),void 0,{shallow:!0}):t?n.replace("/add/".concat(i,"/").concat(t),void 0,{shallow:!0}):n.replace("/add/".concat(i),void 0,{shallow:!0})},[t,n,o]),d=(0,p.useCallback)(function(i){var r=(0,eK.Z)(i);o===r?t?n.replace("/add/".concat(t,"/").concat(r),void 0,{shallow:!0}):n.replace("/add/".concat(r),void 0,{shallow:!0}):n.replace("/add/".concat(o||e.symbol,"/").concat(r),void 0,{shallow:!0})},[o,n,t,e]);return{handleCurrencyASelect:r,handleCurrencyBSelect:d}};function eX(e){var n=e.currencyA,i=e.currencyB,o=e.error,t=e.onNext,r=(0,q.Z)().account,s=(0,T.$G)().t,a=!o,c=eQ(),u=c.handleCurrencyASelect,p=c.handleCurrencyBSelect,v=(0,l.Z)((0,W.yX)(n,i),2)[1],h=(0,O.a)(v),g=(0,j.Z)(s("Based on last 7 days' performance. Does not account for impermanent loss"),{placement:"bottom"}),x=g.targetRef,m=g.tooltip,y=g.tooltipVisible;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(K.t,{title:s("Add Liquidity"),subtitle:s("Receive LP tokens and earn 0.17% trading fees"),helper:s("Liquidity providers earn a 0.17% trading fee on all trades made for that token pair, proportional to their share of the liquidity pool."),backTo:"/liquidity"}),(0,d.jsx)(E.Z,{children:(0,d.jsxs)(ex.Z,{children:[(0,d.jsx)(Z.Z,{textTransform:"uppercase",color:"secondary",bold:!0,small:!0,pb:"24px",children:s("Choose a valid pair")}),(0,d.jsxs)(eT.Z,{gap:"4px",children:[(0,d.jsx)(eG,{id:"add-liquidity-select-tokena",selectedCurrency:n,onCurrencySelect:u,showCommonBases:!0,commonBasesType:eH.L0.LIQUIDITY}),(0,d.jsx)(B.Z,{color:"textSubtle"}),(0,d.jsx)(eG,{id:"add-liquidity-select-tokenb",selectedCurrency:i,onCurrencySelect:p,showCommonBases:!0,commonBasesType:eH.L0.LIQUIDITY})]}),v&&h&&(0,d.jsxs)(X.m0,{mt:"24px",children:[(0,d.jsx)(_.Z,{ref:x,bold:!0,fontSize:"12px",color:"secondary",children:s("LP reward APR")}),y&&m,(0,d.jsxs)(Z.Z,{bold:!0,color:"primary",children:[(0,eV.d)(h.lpApr7d),"%"]})]})]})}),(0,d.jsx)(ek.Z,{children:r?(0,d.jsx)(P.A,{"data-test":"choose-pair-next",width:"100%",variant:a?"primary":"danger",onClick:t,disabled:!a,children:null!=o?o:s("Add Liquidity")}):(0,d.jsx)($.Z,{width:"100%"})})]})}var e$,eW=i(82708);(e$=o||(o={}))[e$.Choose=0]="Choose",e$[e$.Add=1]="Add";var eJ=(0,I._M)();function e0(e){var n,i,s,a,c,v,g,I,eu,ep,ev,eh,eg,ex,em,ey,eC,eR,eN,ef,ej,eb,eE,eA,eB,eU,e_,eS,eT,ek,eY,eq,eI,eP,ez,eM,eD,eL=e.currencyA,eF=e.currencyB,eO=(0,u.useRouter)(),eG=(0,q.Z)(),eK=eG.account,e$=eG.chainId,e0=eG.isWrongNetwork,e1=(0,eo.uB)(),e2=(0,l.Z)((0,eo.$f)(),1)[0],e4=(0,eo.LO)(),e6=(0,p.useState)(!0),e3=e6[0],e8=e6[1],e9=(0,p.useState)(o.Choose),e7=e9[0],e5=e9[1],ne=(0,T.$G)().t,nn=(0,eo.Fh)();(0,p.useEffect)(function(){"1"===eO.query.step&&e5(o.Add)},[eO.query]);var ni=(0,p.useMemo)(function(){return!!e2&&e3},[e2,e3]),no=(0,en.OY)(),nt=no.independentField,nr=no.typedValue,nl=no.otherTypedValue,nd=(0,en.Qw)(null!=eL?eL:void 0,null!=eF?eF:void 0),ns=nd.dependentField,na=nd.currencies,nc=nd.pair,nu=nd.pairState,np=nd.currencyBalances,nv=nd.parsedAmounts,nh=nd.price,ng=nd.noLiquidity,nx=nd.liquidityMinted,nm=nd.poolTokenPercentage,ny=nd.error,nC=nd.addError,nR=(0,O.a)(nc),nN=(0,j.Z)(ne("Based on last 7 days' performance. Does not account for impermanent loss"),{placement:"bottom"}),nf=nN.targetRef,nj=nN.tooltip,nb=nN.tooltipVisible,nE=(0,en.OA)(ng),nA=nE.onFieldAInput,nZ=nE.onFieldBInput,nB=(0,p.useState)({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),nU=nB[0],n_=nU.attemptingTxn,nS=nU.liquidityErrorMessage,nw=nU.txHash,nT=nB[1],nk=(0,p.useState)(!0),nY=nk[0],nq=nk[1],nI=(0,p.useState)(!0),nP=nI[0],nz=nI[1],nM=nY&&(null==np?void 0:null===(n=np[h.gN.CURRENCY_A])||void 0===n?void 0:n.greaterThan(0)),nD=nP&&(null==np?void 0:null===(i=np[h.gN.CURRENCY_B])||void 0===i?void 0:i.greaterThan(0)),nL=(0,ee.Z)(),nF=(0,l.Z)((0,eo.$2)(),1)[0],nO=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce(function(e,n){return(0,y.Z)((0,t.Z)({},e),(0,m.Z)({},n,(0,el.i)(np[n])))},{}),nG=(0,p.useMemo)(function(){return!!ni&&!ng&&D.K.includes(e$)&&!(nc&&f.QA.lessThan(nc.reserve0.quotient,f.Xh)||nc&&f.QA.lessThan(nc.reserve1.quotient,f.Xh))},[e$,ng,nc,ni]),nV=eQ(),nH=nV.handleCurrencyASelect,nK=nV.handleCurrencyBSelect,nQ=(0,en.eM)({pair:nc,canZap:nG,currencyA:eL,currencyB:eF,currencyBalances:np,zapTokenCheckedA:nM,zapTokenCheckedB:nD,maxAmounts:nO}),nX=nQ.zapInEstimating,n$=nQ.rebalancing,nW=(0,r.Z)(nQ,["zapInEstimating","rebalancing"]),nJ=nG?nW.parsedAmounts:nv,n0=nG&&!nW.noNeedZap,n1=(0,p.useMemo)(function(){var e,n;return n={},(0,m.Z)(n,nt,!nG||(nt!==h.gN.CURRENCY_A||nM)&&(nt!==h.gN.CURRENCY_B||nD)?nr:""),(0,m.Z)(n,ns,ng?nl:null!==(eT=null===(e=nJ[ns])||void 0===e?void 0:e.toSignificant(6))&&void 0!==eT?eT:""),n},[nG,ns,nt,ng,nl,nJ,nr,nM,nD,]),n2=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce(function(e,n){var i,o;return(0,y.Z)((0,t.Z)({},e),(0,m.Z)({},n,null===(i=nO[n])||void 0===i?void 0:i.equalTo(null!==(o=nJ[n])&&void 0!==o?o:"0")))},{}),n4=(0,l.Z)((0,J.qL)(nJ[h.gN.CURRENCY_A],n0?eJ:F.bR[e$]),2),n6=n4[0],n3=n4[1],n8=(0,l.Z)((0,J.qL)(nJ[h.gN.CURRENCY_B],n0?eJ:F.bR[e$]),2),n9=n8[0],n7=n8[1],n5=(0,ei.h7)(),ie=(0,er.Ti)();function ii(){return io.apply(this,arguments)}function io(){return(io=(0,x.Z)(function(){var e,n,i,o,r,l,d,s,a,c,u,p,v,g,x,f;return(0,R.__generator)(this,function(R){switch(R.label){case 0:if(!e$||!eK||!ie||(e=nv[h.gN.CURRENCY_A],n=nv[h.gN.CURRENCY_B],!e||!n||!eL||!eF||!nL))return[2];return i={},(0,m.Z)(i,h.gN.CURRENCY_A,(0,er.uc)(e,ng?0:nF)[0]),(0,m.Z)(i,h.gN.CURRENCY_B,(0,er.uc)(n,ng?0:nF)[0]),o=i,(null==eL?void 0:eL.isNative)||(null==eF?void 0:eF.isNative)?(u=null==eF?void 0:eF.isNative,r=ie.estimateGas.addLiquidityETH,l=ie.addLiquidityETH,d=[null!==(p=null===(a=u?eL:eF)||void 0===a?void 0:null===(c=a.wrapped)||void 0===c?void 0:c.address)&&void 0!==p?p:"",(u?e:n).quotient.toString(),o[u?h.gN.CURRENCY_A:h.gN.CURRENCY_B].toString(),o[u?h.gN.CURRENCY_B:h.gN.CURRENCY_A].toString(),eK,nL.toHexString(),],s=N.O$.from((u?n:e).quotient.toString())):(r=ie.estimateGas.addLiquidity,l=ie.addLiquidity,d=[null!==(x=null==eL?void 0:null===(v=eL.wrapped)||void 0===v?void 0:v.address)&&void 0!==x?x:"",null!==(f=null==eF?void 0:null===(g=eF.wrapped)||void 0===g?void 0:g.address)&&void 0!==f?f:"",e.quotient.toString(),n.quotient.toString(),o[h.gN.CURRENCY_A].toString(),o[h.gN.CURRENCY_B].toString(),eK,nL.toHexString(),],s=null),nT({attemptingTxn:!0,liquidityErrorMessage:void 0,txHash:void 0}),[4,r.apply(void 0,(0,C.Z)(d).concat([s?{value:s}:{}])).then(function(e){return l.apply(void 0,(0,C.Z)(d).concat([(0,y.Z)((0,t.Z)({},s?{value:s}:{}),{gasLimit:(0,et.yC)(e),gasPrice:nn})])).then(function(e){nT({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:e.hash});var n,i,o,t,r=null===(n=na[h.gN.CURRENCY_A])||void 0===n?void 0:n.symbol,l=null===(i=nJ[h.gN.CURRENCY_A])||void 0===i?void 0:i.toSignificant(3),d=null===(o=na[h.gN.CURRENCY_B])||void 0===o?void 0:o.symbol,s=null===(t=nJ[h.gN.CURRENCY_B])||void 0===t?void 0:t.toSignificant(3);n5(e,{summary:"Add ".concat(l," ").concat(r," and ").concat(s," ").concat(d),translatableSummary:{text:"Add %amountA% %symbolA% and %amountB% %symbolB%",data:{amountA:l,symbolA:r,amountB:s,symbolB:d}},type:"add-liquidity"}),nc&&e1(nc)})}).catch(function(e){e&&4001!==e.code&&((0,S.H)(e),console.error("Add Liquidity failed",e,d,s)),nT({attemptingTxn:!1,liquidityErrorMessage:e&&4001!==e.code?ne("Add liquidity failed: %message%",{message:(0,L.e)(e,ne)}):void 0,txHash:void 0})})];case 1:return R.sent(),[2]}})})).apply(this,arguments)}var it=n0?ne("Zapping %amountA% %symbolA% and %amountB% %symbolB%",{amountA:null!==(ek=null===(s=nJ[h.gN.CURRENCY_A])||void 0===s?void 0:s.toSignificant(6))&&void 0!==ek?ek:"0",symbolA:null!==(eY=null===(a=na[h.gN.CURRENCY_A])||void 0===a?void 0:a.symbol)&&void 0!==eY?eY:"",amountB:null!==(eq=null===(c=nJ[h.gN.CURRENCY_B])||void 0===c?void 0:c.toSignificant(6))&&void 0!==eq?eq:"0",symbolB:null!==(eI=null===(v=na[h.gN.CURRENCY_B])||void 0===v?void 0:v.symbol)&&void 0!==eI?eI:""}):ne("Supplying %amountA% %symbolA% and %amountB% %symbolB%",{amountA:null!==(eP=null===(g=nJ[h.gN.CURRENCY_A])||void 0===g?void 0:g.toSignificant(6))&&void 0!==eP?eP:"",symbolA:null!==(ez=null===(I=na[h.gN.CURRENCY_A])||void 0===I?void 0:I.symbol)&&void 0!==ez?ez:"",amountB:null!==(eM=null===(eu=nJ[h.gN.CURRENCY_B])||void 0===eu?void 0:eu.toSignificant(6))&&void 0!==eM?eM:"",symbolB:null!==(eD=null===(ep=na[h.gN.CURRENCY_B])||void 0===ep?void 0:ep.symbol)&&void 0!==eD?eD:""}),ir=(0,p.useCallback)(function(){nw&&nA("")},[nA,nw]),il=(0,w.mP)(null==na?void 0:na.CURRENCY_A,null==na?void 0:na.CURRENCY_B),id=(0,w.uK)(null==na?void 0:na.CURRENCY_A,null==na?void 0:na.CURRENCY_B),is=(0,Y.n9)(!0),ia=(0,l.Z)((0,b.Z)((0,d.jsx)(eZ,{title:ng?ne("You are creating a pool"):ne("You will receive"),customOnDismiss:ir,attemptingTxn:n_,hash:nw,pendingText:it,currencyToAdd:null==nc?void 0:nc.liquidityToken,allowedSlippage:nF,onAdd:ii,parsedAmounts:nJ,currencies:na,liquidityErrorMessage:nS,price:nh,noLiquidity:ng,poolTokenPercentage:nm,liquidityMinted:nx}),!0,!0,"addLiquidityModal"),1)[0];function ic(){return(ic=(0,x.Z)(function(){var e,n,i,o,t,r,l,d,s,a,c,u,p,v,g,x,m,y,C,N,f,j,b,E;return(0,R.__generator)(this,function(R){return nG&&nJ&&nW.zapInEstimated&&e$&&is&&(l=nW.zapInEstimated.swapAmountOut.mul(1e4-nF).div(1e4),n$?(u=nW.zapInEstimated.swapAmountIn.mul(1e4+nF).div(1e4),p=null===(d=nJ[h.gN.CURRENCY_A])||void 0===d?void 0:d.toSignificant(3),v=null===(s=na[h.gN.CURRENCY_A])||void 0===s?void 0:s.symbol,g=null===(a=nJ[h.gN.CURRENCY_B])||void 0===a?void 0:a.toSignificant(3),x=null===(c=na[h.gN.CURRENCY_B])||void 0===c?void 0:c.symbol,t="Zap ".concat(p," ").concat(v," and ").concat(g," ").concat(x),r={text:"Zap %amountA% %symbolA% and %amountB% %symbolB%",data:{amountA:p,symbolA:v,amountB:g,symbolB:x}},(null==eL?void 0:eL.isNative)||(null==eF?void 0:eF.isNative)?(m=null==eF?void 0:eF.isNative,n="zapInBNBRebalancing",i=[(0,ed.pu)(na[m?h.gN.CURRENCY_A:h.gN.CURRENCY_B],e$).address,nJ[m?h.gN.CURRENCY_A:h.gN.CURRENCY_B].quotient.toString(),nc.liquidityToken.address,u,l,nW.zapInEstimated.isToken0Sold&&!m],o=nJ[m?h.gN.CURRENCY_B:h.gN.CURRENCY_A].quotient.toString()):(n="zapInTokenRebalancing",i=[(0,ed.pu)(na[h.gN.CURRENCY_A],e$).address,(0,ed.pu)(na[h.gN.CURRENCY_B],e$).address,nJ[h.gN.CURRENCY_A].quotient.toString(),nJ[h.gN.CURRENCY_B].quotient.toString(),nc.liquidityToken.address,u,l,nW.zapInEstimated.isToken0Sold])):(null===(e=na[nW.swapTokenField])||void 0===e?void 0:e.isNative)?(n="zapInBNB",i=[nc.liquidityToken.address,l],C=null===(y=nJ[nW.swapTokenField])||void 0===y?void 0:y.toSignificant(3),N=(0,z.z)(nc.token0.symbol,nc.token1.symbol,e$),t="Zap in ".concat(C," BNB for ").concat(N),r={text:"Zap in %amount% BNB for %symbol%",data:{amount:C,symbol:N}},o=nJ[nW.swapTokenField].quotient.toString()):(n="zapInToken",i=[(0,ed.pu)(na[nW.swapTokenField],e$).address,nJ[nW.swapTokenField].quotient.toString(),nc.liquidityToken.address,l,],j=null===(f=nJ[nW.swapTokenField])||void 0===f?void 0:f.toSignificant(3),b=na[nW.swapTokenField].symbol,E=(0,z.z)(nc.token0.symbol,nc.token1.symbol,e$),t="Zap in ".concat(j," ").concat(b," for ").concat(E),r={text:"Zap in %amount% %symbol% for %lpSymbol%",data:{amount:j,symbol:b,lpSymbol:E}}),nT({attemptingTxn:!0,liquidityErrorMessage:void 0,txHash:void 0}),(0,M.Zj)(is,n,i,o?{value:o,gasPrice:nn}:{gasPrice:nn}).then(function(e){nT({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:e.hash}),n5(e,{summary:t,translatableSummary:r,type:"add-liquidity"}),nc&&e1(nc)}).catch(function(e){e&&4001!==e.code&&((0,S.H)(e),console.error("Add Liquidity failed",e,i,o)),nT({attemptingTxn:!1,liquidityErrorMessage:e&&4001!==e.code?ne("Add liquidity failed: %message%",{message:(0,L.e)(e,ne)}):void 0,txHash:void 0})})),[2]})})).apply(this,arguments)}var iu=(0,l.Z)((0,b.Z)((0,d.jsx)(ew,{title:ne("You will receive"),customOnDismiss:ir,attemptingTxn:n_,hash:nw,pendingText:it,pair:nc,allowedSlippage:nF,onAdd:function(){return ic.apply(this,arguments)},parsedAmounts:nJ,currencies:na,liquidityErrorMessage:nS,price:nh,poolTokenPercentage:nW.poolTokenPercentage,liquidityMinted:nW.liquidityMinted,zapSwapTokenField:nW.swapTokenField,zapSwapOutTokenField:nW.swapOutTokenField,zapInEstimated:nW.zapInEstimated,rebalancing:n$,zapMode:ni,toggleZapMode:e8}),!0,!0,"zapInModal"),1)[0],ip=function(){e2||e8(!e2)},iv=!ny,ih=ny;n0?(iv=!ny&&!nW.error,ih=null!=ny?ny:nW.error):(iv=!ny&&!nC,ih=null!=ny?ny:nC);var ig=!iv||(nW.parsedAmounts[h.gN.CURRENCY_A]||!n0&&nM)&&n6!==J.UK.APPROVED||(nW.parsedAmounts[h.gN.CURRENCY_B]||!n0&&nD)&&n9!==J.UK.APPROVED||nW.priceSeverity>3&&n0,ix=(nM||!n0)&&(n6===J.UK.NOT_APPROVED||n6===J.UK.PENDING),im=(nD||!n0)&&(n9===J.UK.NOT_APPROVED||n9===J.UK.PENDING),iy=(ix||im)&&iv,iC=Boolean(e$&&(eL&&eL.equals(f.FX[e$])||eF&&eF.equals(f.FX[e$]))),iR=!nJ[h.gN.CURRENCY_A]&&!nJ[h.gN.CURRENCY_B],iN=!!na[h.gN.CURRENCY_A]&&!!na[h.gN.CURRENCY_B]&&e7===o.Add||!nG,ij=n0&&!iR&&(!n$&&!(!nM&&!nD)||n$&&nW.priceSeverity>3),ib=n0&&(nW.priceSeverity>3||nW.zapInEstimatedError)&&nO[nW.swapTokenField],iE=!ij&&!iR&&!ib&&n0&&nW.isDependentAmountGreaterThanMaxAmount&&n$,iA=!e2&&!ij&&!iR&&(!nM||!nD)&&!ng&&!(nc&&f.QA.lessThan(nc.reserve0.quotient,f.Xh)||nc&&f.QA.lessThan(nc.reserve1.quotient,f.Xh));return(0,d.jsxs)(ec.Z,{children:[(0,d.jsxs)(K.j,{children:[!iN&&(0,d.jsx)(eX,{error:ny,currencyA:na[h.gN.CURRENCY_A],currencyB:na[h.gN.CURRENCY_B],onNext:function(){return e5(o.Add)}}),iN&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(K.t,{title:(null===(ev=na[h.gN.CURRENCY_A])||void 0===ev?void 0:ev.symbol)&&(null===(eh=na[h.gN.CURRENCY_B])||void 0===eh?void 0:eh.symbol)?"".concat((0,z.z)(na[h.gN.CURRENCY_A].symbol,na[h.gN.CURRENCY_B].symbol,e$)):ne("Add Liquidity"),subtitle:ne("Receive LP tokens and earn 0.17% trading fees"),helper:ne("Liquidity providers earn a 0.17% trading fee on all trades made for that token pair, proportional to their share of the liquidity pool."),backTo:nG?function(){return e5(o.Choose)}:"/liquidity"}),(0,d.jsx)(E.Z,{children:(0,d.jsxs)(V.Tz,{gap:"20px",children:[ng&&(0,d.jsx)(V.lg,{children:(0,d.jsx)(A.Z,{variant:"warning",children:(0,d.jsxs)("div",{children:[(0,d.jsx)(Z.Z,{bold:!0,mb:"8px",children:ne("You are the first liquidity provider.")}),(0,d.jsx)(Z.Z,{mb:"8px",children:ne("The ratio of tokens you add will set the price of this pool.")}),(0,d.jsx)(Z.Z,{children:ne("Once you are happy with the rate click supply to review.")})]})})}),(0,d.jsx)(H.Z,{disableCurrencySelect:nG,showBUSD:!0,onInputBlur:nG?nW.onInputBlurOnce:void 0,error:nW.priceSeverity>3&&nW.swapTokenField===h.gN.CURRENCY_A,disabled:nG&&!nM,beforeButton:nG&&(0,d.jsx)(eW.y,{disabled:null==np?void 0:null===(eg=np[h.gN.CURRENCY_A])||void 0===eg?void 0:eg.equalTo(0),checked:nM,onChange:function(e){nq(e.target.checked)}}),onCurrencySelect:nH,zapStyle:nG?"zap":"noZap",value:n1[h.gN.CURRENCY_A],onUserInput:nA,onPercentInput:function(e){if(nO[h.gN.CURRENCY_A]){var n,i;nA(null!==(i=null===(n=nO[h.gN.CURRENCY_A])||void 0===n?void 0:n.multiply(new f.gG(e,100)).toExact())&&void 0!==i?i:"")}},onMax:function(){var e,n;nA(null!==(n=null===(e=nO[h.gN.CURRENCY_A])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showQuickInputButton:!0,showMaxButton:!n2[h.gN.CURRENCY_A],currency:na[h.gN.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,commonBasesType:eH.L0.LIQUIDITY}),(0,d.jsx)(V.lg,{children:(0,d.jsx)(B.Z,{width:"16px"})}),(0,d.jsx)(H.Z,{showBUSD:!0,onInputBlur:nG?nW.onInputBlurOnce:void 0,disabled:nG&&!nD,error:nW.priceSeverity>3&&nW.swapTokenField===h.gN.CURRENCY_B,beforeButton:nG&&(0,d.jsx)(eW.y,{disabled:null==np?void 0:null===(ex=np[h.gN.CURRENCY_B])||void 0===ex?void 0:ex.equalTo(0),checked:nD,onChange:function(e){nz(e.target.checked)}}),onCurrencySelect:nK,disableCurrencySelect:nG,zapStyle:nG?"zap":"noZap",value:n1[h.gN.CURRENCY_B],onUserInput:nZ,onPercentInput:function(e){if(nO[h.gN.CURRENCY_B]){var n,i;nZ(null!==(i=null===(n=nO[h.gN.CURRENCY_B])||void 0===n?void 0:n.multiply(new f.gG(e,100)).toExact())&&void 0!==i?i:"")}},onMax:function(){var e,n;nZ(null!==(n=null===(e=nO[h.gN.CURRENCY_B])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showQuickInputButton:!0,showMaxButton:!n2[h.gN.CURRENCY_B],currency:na[h.gN.CURRENCY_B],id:"add-liquidity-input-tokenb",showCommonBases:!0,commonBasesType:eH.L0.LIQUIDITY}),ij&&(0,d.jsx)(A.Z,{variant:nW.priceSeverity>3?"danger":"warning",children:nW.priceSeverity>3?(0,d.jsxs)(A.Y,{children:[ne("Price Impact Too High.")," ",(0,d.jsx)("strong",{children:ne("Reduce amount of %token% to maximum limit",{token:null===(em=na[nW.swapTokenField])||void 0===em?void 0:em.symbol})})]}):(0,d.jsxs)(A.Y,{children:[(0,d.jsx)("strong",{children:ne("No %token% input.",{token:null===(ey=na[nW.swapOutTokenField])||void 0===ey?void 0:ey.symbol})})," ",ne("Some of your %token0% will be converted to %token1%.",{token0:null===(eC=na[nW.swapTokenField])||void 0===eC?void 0:eC.symbol,token1:null===(eR=na[nW.swapOutTokenField])||void 0===eR?void 0:eR.symbol})]})}),ib&&(0,d.jsx)(X.DA,{style:{margin:"auto"},onClick:function(){return nW.convertToMaxZappable()},children:(0,d.jsx)(U.Z,{variant:"secondary",scale:"sm",children:ne("Reduce %token%",{token:null===(eN=na[nW.swapTokenField])||void 0===eN?void 0:eN.symbol})})}),iA&&(0,d.jsx)(A.Z,{variant:"warning",children:(0,d.jsxs)(A.Y,{children:[ne("Zap allows you to add liquidity with only 1 single token. Click"),(0,d.jsx)(U.Z,{p:"0 4px",scale:"sm",variant:"text",height:"auto",onClick:ip,children:ne("here")}),ne("to try.")]})}),iE&&(0,d.jsx)(A.Z,{variant:"warning",children:(0,d.jsx)(V.Tz,{children:(0,d.jsxs)(A.Y,{children:[(0,d.jsx)("strong",{children:ne("Not enough %token%.",{token:null===(ef=na[nW.swapOutTokenField])||void 0===ef?void 0:ef.symbol})})," ",nW.gasOverhead?ne("Some of your %token0% will be converted to %token1% before adding liquidity, but this may cause higher gas fees.",{token0:null===(ej=na[nW.swapTokenField])||void 0===ej?void 0:ej.symbol,token1:null===(eb=na[nW.swapOutTokenField])||void 0===eb?void 0:eb.symbol}):ne("Some of your %token0% will be converted to %token1%.",{token0:null===(eE=na[nW.swapTokenField])||void 0===eE?void 0:eE.symbol,token1:null===(eA=na[nW.swapOutTokenField])||void 0===eA?void 0:eA.symbol})]})})}),iE&&(0,d.jsx)(X.DA,{style:{margin:"auto"},onClick:function(){var e,n,i,o;ns===h.gN.CURRENCY_A?nA(null!==(n=null===(e=nO[ns])||void 0===e?void 0:e.toExact())&&void 0!==n?n:""):nZ(null!==(o=null===(i=nO[ns])||void 0===i?void 0:i.toExact())&&void 0!==o?o:"")},children:(0,d.jsx)(U.Z,{variant:"secondary",scale:"sm",children:ne("Donâ€™t convert")})}),na[h.gN.CURRENCY_A]&&na[h.gN.CURRENCY_B]&&nu!==W._G.INVALID&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(G.hl,{padding:"0px",borderRadius:"20px",children:[(0,d.jsx)(X.m0,{padding:"1rem",children:(0,d.jsx)(Z.Z,{fontSize:"14px",children:ng?ne("Initial prices and pool share"):ne("Prices and pool share")})})," ",(0,d.jsx)(G.hl,{padding:"1rem",borderRadius:"20px",children:(0,d.jsx)(ea,{currencies:na,poolTokenPercentage:n0?nW.poolTokenPercentage:nm,noLiquidity:ng,price:nh})})]})}),(0,d.jsxs)(X.m0,{children:[(0,d.jsx)(Z.Z,{bold:!0,fontSize:"12px",color:"secondary",children:ne("Slippage Tolerance")}),(0,d.jsxs)(Z.Z,{bold:!0,color:"primary",children:[nF/100,"%"]})]}),nc&&nR&&(0,d.jsxs)(X.m0,{children:[(0,d.jsx)(_.Z,{ref:nf,bold:!0,fontSize:"12px",color:"secondary",children:ne("LP reward APR")}),nb&&nj,(0,d.jsxs)(Z.Z,{bold:!0,color:"primary",children:[(0,eV.d)(nR.lpApr7d),"%"]})]}),il||id?(0,d.jsx)(U.Z,{disabled:!0,mb:"4px",children:ne("Unsupported Asset")}):eK?e0?(0,d.jsx)(P.A,{}):(0,d.jsxs)(V.Tz,{gap:"md",children:[iy&&(0,d.jsxs)(X.m0,{style:{gap:"8px"},children:[ix&&(0,d.jsx)(U.Z,{onClick:n3,disabled:n6===J.UK.PENDING,width:"100%",children:n6===J.UK.PENDING?(0,d.jsx)(es.Z,{children:ne("Enabling %asset%",{asset:null===(eB=na[h.gN.CURRENCY_A])||void 0===eB?void 0:eB.symbol})}):ne("Enable %asset%",{asset:null===(eU=na[h.gN.CURRENCY_A])||void 0===eU?void 0:eU.symbol})}),im&&(0,d.jsx)(U.Z,{onClick:n7,disabled:n9===J.UK.PENDING,width:"100%",children:n9===J.UK.PENDING?(0,d.jsx)(es.Z,{children:ne("Enabling %asset%",{asset:null===(e_=na[h.gN.CURRENCY_B])||void 0===e_?void 0:e_.symbol})}):ne("Enable %asset%",{asset:null===(eS=na[h.gN.CURRENCY_B])||void 0===eS?void 0:eS.symbol})})]}),(0,d.jsx)(P.A,{isLoading:n0&&nX,variant:!iv||nW.priceSeverity>2?"danger":"primary",onClick:function(){if(n0){nT({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),iu();return}e4?ii():(nT({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),ia())},disabled:ig,children:ih||ne("Supply")})]}):(0,d.jsx)($.Z,{})]})})]})]}),il||id?(0,d.jsx)(k.Z,{currencies:[na.CURRENCY_A,na.CURRENCY_B]}):nc&&!ng&&nu!==W._G.INVALID?(0,d.jsx)(V.Tz,{style:{minWidth:"20rem",width:"100%",maxWidth:"400px",marginTop:"1rem"},children:(0,d.jsx)(Q.WP,{showUnwrapped:iC,pair:nc})}):null]})}var e1=i(86849),e2=i(21421);function e4(e){var n,i,o,r,s,a,c,u,v,g,N,j,_,w,k=e.currencyA,Y=e.currencyB,I=(0,q.Z)(),z=I.account,M=I.chainId,D=I.isWrongNetwork,F=(0,eo.LO)(),O=(0,T.$G)().t,ee=(0,eo.Fh)(),ed=(0,en.OY)(),eu=ed.independentField,ep=ed.typedValue,ev=ed.otherTypedValue,eh=(0,e2.L)(null!=k?k:void 0,null!=Y?Y:void 0),eg=eh.dependentField,ex=eh.currencies,em=eh.pair,ey=eh.pairState,eC=eh.currencyBalances,eR=eh.parsedAmounts,eN=eh.price,ef=eh.noLiquidity,ej=eh.liquidityMinted,eb=eh.poolTokenPercentage,eE=eh.error,eA=eh.addError,eB=(0,en.OA)(!0),eU=eB.onFieldAInput,e_=eB.onFieldBInput,eS=(0,p.useState)({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),ew=eS[0],eT=ew.attemptingTxn,ek=ew.liquidityErrorMessage,eY=ew.txHash,eq=eS[1],eI=(0,l.Z)((0,eo.$2)(),1)[0],eP=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce(function(e,n){return(0,y.Z)((0,t.Z)({},e),(0,m.Z)({},n,(0,el.i)(eC[n])))},{}),ez=eQ(),eM=ez.handleCurrencyASelect,eD=ez.handleCurrencyBSelect,eL=(0,p.useMemo)(function(){var e;return e={},(0,m.Z)(e,eu,ep),(0,m.Z)(e,eg,ev),e},[eg,eu,ev,ep]),eF=[h.gN.CURRENCY_A,h.gN.CURRENCY_B].reduce(function(e,n){var i,o;return(0,y.Z)((0,t.Z)({},e),(0,m.Z)({},n,null===(i=eP[n])||void 0===i?void 0:i.equalTo(null!==(o=eR[n])&&void 0!==o?o:"0")))},{}),eO=(0,p.useContext)(e1.UA),eG=eO.stableSwapContract,eV=eO.stableSwapConfig,eK=(0,l.Z)((0,J.qL)(eR[h.gN.CURRENCY_A],null==eG?void 0:eG.address),2),eX=eK[0],e$=eK[1],eW=(0,l.Z)((0,J.qL)(eR[h.gN.CURRENCY_B],null==eG?void 0:eG.address),2),eJ=eW[0],e0=eW[1],e4=(0,ei.h7)();function e6(){return e3.apply(this,arguments)}function e3(){return(e3=(0,x.Z)(function(){var e,n,i,o,r,l,d,s,a,c,u,p,v,g,x;return(0,R.__generator)(this,function(v){switch(v.label){case 0:if(!M||!z||!eG||(s=eR[h.gN.CURRENCY_A],a=eR[h.gN.CURRENCY_B],!s||!a||!k||!Y))return[2];return c=(0,er.uc)(ej,ef?0:eI)[0],u=eG.estimateGas.add_liquidity,p=eG.add_liquidity,g=[(null==eV?void 0:null===(e=eV.token0)||void 0===e?void 0:e.address)===(null==s?void 0:null===(n=s.currency)||void 0===n?void 0:null===(i=n.wrapped)||void 0===i?void 0:i.address)?[null==s?void 0:null===(o=s.quotient)||void 0===o?void 0:o.toString(),null==a?void 0:null===(r=a.quotient)||void 0===r?void 0:r.toString()]:[null==a?void 0:null===(l=a.quotient)||void 0===l?void 0:l.toString(),null==s?void 0:null===(d=s.quotient)||void 0===d?void 0:d.toString()],null==c?void 0:c.toString()],x=null,eq({attemptingTxn:!0,liquidityErrorMessage:void 0,txHash:void 0}),[4,u.apply(void 0,(0,C.Z)(g).concat([x?{value:x}:{}])).then(function(e){return p.apply(void 0,(0,C.Z)(g).concat([(0,y.Z)((0,t.Z)({},x?{value:x}:{}),{gasLimit:(0,et.yC)(e),gasPrice:ee})])).then(function(e){eq({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:e.hash});var n,i,o,t,r=null===(n=ex[h.gN.CURRENCY_A])||void 0===n?void 0:n.symbol,l=null===(i=eR[h.gN.CURRENCY_A])||void 0===i?void 0:i.toSignificant(3),d=null===(o=ex[h.gN.CURRENCY_B])||void 0===o?void 0:o.symbol,s=null===(t=eR[h.gN.CURRENCY_B])||void 0===t?void 0:t.toSignificant(3);e4(e,{summary:"Add ".concat(l," ").concat(r," and ").concat(s," ").concat(d),translatableSummary:{text:"Add %amountA% %symbolA% and %amountB% %symbolB%",data:{amountA:l,symbolA:r,amountB:s,symbolB:d}},type:"add-liquidity"})})}).catch(function(e){e&&4001!==e.code&&((0,S.H)(e),console.error("Add Liquidity failed",e,g,x)),eq({attemptingTxn:!1,liquidityErrorMessage:e&&4001!==e.code?O("Add liquidity failed: %message%",{message:(0,L.e)(e,O)}):void 0,txHash:void 0})})];case 1:return v.sent(),[2]}})})).apply(this,arguments)}var e8=O("Supplying %amountA% %symbolA% and %amountB% %symbolB%",{amountA:null!==(N=null===(n=eR[h.gN.CURRENCY_A])||void 0===n?void 0:n.toSignificant(6))&&void 0!==N?N:"",symbolA:null!==(j=null===(i=ex[h.gN.CURRENCY_A])||void 0===i?void 0:i.symbol)&&void 0!==j?j:"",amountB:null!==(_=null===(o=eR[h.gN.CURRENCY_B])||void 0===o?void 0:o.toSignificant(6))&&void 0!==_?_:"",symbolB:null!==(w=null===(r=ex[h.gN.CURRENCY_B])||void 0===r?void 0:r.symbol)&&void 0!==w?w:""}),e9=(0,p.useCallback)(function(){eY&&(eU(""),e_(""))},[eU,e_,eY]),e7=(0,l.Z)((0,b.Z)((0,d.jsx)(eZ,{title:ef?O("You are creating a pool"):O("You will receive"),customOnDismiss:e9,attemptingTxn:eT,hash:eY,pendingText:e8,currencyToAdd:null==em?void 0:em.liquidityToken,allowedSlippage:eI,onAdd:e6,parsedAmounts:eR,currencies:ex,liquidityErrorMessage:ek,price:eN,noLiquidity:ef,poolTokenPercentage:eb,liquidityMinted:ej,isStable:!0}),!0,!0,"addLiquidityModal"),1)[0],e5=!eE,ne=eE;e5=!eE&&!eA,ne=null!=eE?eE:eA;var nn=!e5||eX!==J.UK.APPROVED||eJ!==J.UK.APPROVED,ni=eX===J.UK.NOT_APPROVED||eX===J.UK.PENDING,no=eJ===J.UK.NOT_APPROVED||eJ===J.UK.PENDING,nt=(ni||no)&&e5,nr=Boolean(M&&(k&&k.equals(f.FX[M])||Y&&Y.equals(f.FX[M])));return(0,d.jsxs)(ec.Z,{children:[(0,d.jsx)(K.j,{children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(K.t,{title:(null===(s=ex[h.gN.CURRENCY_A])||void 0===s?void 0:s.symbol)&&(null===(a=ex[h.gN.CURRENCY_B])||void 0===a?void 0:a.symbol)?"".concat(ex[h.gN.CURRENCY_A].symbol,"-").concat(ex[h.gN.CURRENCY_B].symbol," Stable LP"):O("Add Stable Liquidity"),backTo:"/liquidity"}),(0,d.jsx)(E.Z,{children:(0,d.jsxs)(V.Tz,{gap:"20px",children:[ef&&(0,d.jsx)(V.lg,{children:(0,d.jsx)(A.Z,{variant:"warning",children:(0,d.jsxs)("div",{children:[(0,d.jsx)(Z.Z,{bold:!0,mb:"8px",children:O("You are the first liquidity provider.")}),(0,d.jsx)(Z.Z,{mb:"8px",children:O("The ratio of tokens you add will set the price of this pool.")}),(0,d.jsx)(Z.Z,{children:O("Once you are happy with the rate click supply to review.")})]})})}),(0,d.jsx)(H.Z,{showBUSD:!0,onCurrencySelect:eM,zapStyle:"noZap",value:eL[h.gN.CURRENCY_A],onUserInput:eU,onMax:function(){var e,n;eU(null!==(n=null===(e=eP[h.gN.CURRENCY_A])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showMaxButton:!eF[h.gN.CURRENCY_A],currency:ex[h.gN.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,commonBasesType:eH.L0.LIQUIDITY}),(0,d.jsx)(V.lg,{children:(0,d.jsx)(B.Z,{width:"16px"})}),(0,d.jsx)(H.Z,{showBUSD:!0,onCurrencySelect:eD,zapStyle:"noZap",value:eL[h.gN.CURRENCY_B],onUserInput:e_,onMax:function(){var e,n;e_(null!==(n=null===(e=eP[h.gN.CURRENCY_B])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},showMaxButton:!eF[h.gN.CURRENCY_B],currency:ex[h.gN.CURRENCY_B],id:"add-liquidity-input-tokenb",showCommonBases:!0,commonBasesType:eH.L0.LIQUIDITY}),ex[h.gN.CURRENCY_A]&&ex[h.gN.CURRENCY_B]&&ey!==W._G.INVALID&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(G.hl,{padding:"0px",borderRadius:"20px",children:[(0,d.jsx)(X.m0,{padding:"1rem",children:(0,d.jsx)(Z.Z,{fontSize:"14px",children:ef?O("Initial prices and pool share"):O("Prices and pool share")})})," ",(0,d.jsx)(G.hl,{padding:"1rem",borderRadius:"20px",children:(0,d.jsx)(ea,{currencies:ex,poolTokenPercentage:eb,noLiquidity:ef,price:eN})})]})}),(0,d.jsxs)(X.m0,{children:[(0,d.jsx)(Z.Z,{bold:!0,fontSize:"12px",color:"secondary",children:O("Slippage Tolerance")}),(0,d.jsxs)(Z.Z,{bold:!0,color:"primary",children:[eI/100,"%"]})]}),z?D?(0,d.jsx)(P.A,{}):(0,d.jsxs)(V.Tz,{gap:"md",children:[nt&&(0,d.jsxs)(X.m0,{style:{gap:"8px"},children:[ni&&(0,d.jsx)(U.Z,{onClick:e$,disabled:eX===J.UK.PENDING,width:"100%",children:eX===J.UK.PENDING?(0,d.jsx)(es.Z,{children:O("Enabling %asset%",{asset:null===(c=ex[h.gN.CURRENCY_A])||void 0===c?void 0:c.symbol})}):O("Enable %asset%",{asset:null===(u=ex[h.gN.CURRENCY_A])||void 0===u?void 0:u.symbol})}),no&&(0,d.jsx)(U.Z,{onClick:e0,disabled:eJ===J.UK.PENDING,width:"100%",children:eJ===J.UK.PENDING?(0,d.jsx)(es.Z,{children:O("Enabling %asset%",{asset:null===(v=ex[h.gN.CURRENCY_B])||void 0===v?void 0:v.symbol})}):O("Enable %asset%",{asset:null===(g=ex[h.gN.CURRENCY_B])||void 0===g?void 0:g.symbol})})]}),(0,d.jsx)(P.A,{variant:e5?"primary":"danger",onClick:function(){F?e6():(eq({attemptingTxn:!1,liquidityErrorMessage:void 0,txHash:void 0}),e7())},disabled:nn,children:ne||O("Supply")})]}):(0,d.jsx)($.Z,{})]})})]})}),em&&!ef&&ey!==W._G.INVALID?(0,d.jsx)(V.Tz,{style:{minWidth:"20rem",width:"100%",maxWidth:"400px",marginTop:"1rem"},children:(0,d.jsx)(Q.WP,{showUnwrapped:nr,pair:em})}):null]})}var e6=function(){var e,n,i,o=(0,u.useRouter)(),g=(0,e_.g)().chainId,x=(0,v.TL)(),m=(0,c.Z)(),y=(0,l.Z)(o.query.currency||[m.symbol,null!==(i=null===(e=s.cr[g])||void 0===e?void 0:e.address)&&void 0!==i?i:null===(n=s.gn[g])||void 0===n?void 0:n.address,],2),C=y[0],R=y[1],N=(0,a.U8)(C),f=(0,a.U8)(R),j=(0,e1.ZP)({tokenA:N,tokenB:f}),b=j.stableSwapConfig,E=(0,r.Z)(j,["stableSwapConfig"]);return(0,p.useEffect)(function(){C||R||x((0,h.dA)())},[x,C,R]),b?(0,d.jsx)(e1.UA.Provider,{value:(0,t.Z)({stableSwapConfig:b},E),children:(0,d.jsx)(e4,{currencyA:N,currencyB:f})}):(0,d.jsx)(e0,{currencyA:N,currencyB:f})};e6.chains=g.vo;var e3=!0,e8=e6},6973:function(e,n,i){"use strict";i.d(n,{i:function(){return r}});var o=i(90902),t=i(92794);function r(e){var n;if(e)return(null===(n=e.currency)||void 0===n?void 0:n.isNative)?o.QA.greaterThan(e.quotient,t.Uz)?o.ih.fromRawAmount(e.currency,o.QA.subtract(e.quotient,t.Uz)):o.ih.fromRawAmount(e.currency,t.iV):e}},67252:function(e,n,i){"use strict";var o=i(92228),t=i(3411),r=i(78545);function l(){var e=(0,o.Z)(["\n  border-top: 1px solid ",";\n  ","\n"]);return l=function(){return e},e}var d=t.ZP.div.withConfig({componentId:"sc-5ed8a823-0"})(l(),function(e){return e.theme.colors.cardBorder},r.Dh);d.defaultProps={p:"24px"},n.Z=d},20345:function(e,n,i){"use strict";var o=i(70865),t=i(96670),r=i(52322);i(2784);var l=i(62923),d=function(e){return(0,r.jsx)(l.Z,(0,t.Z)((0,o.Z)({viewBox:"0 0 24 24"},e),{children:(0,r.jsx)("path",{d:"M8.71005 11.71L11.3001 14.3C11.6901 14.69 12.3201 14.69 12.7101 14.3L15.3001 11.71C15.9301 11.08 15.4801 10 14.5901 10H9.41005C8.52005 10 8.08005 11.08 8.71005 11.71Z"})}))};n.Z=d}},function(e){e.O(0,[1246,1820,4273,900,3492,9273,3763,8934,1353,7553,3412,6849,6150,5366,9051,6071,9774,2888,179],function(){return e(e.s=9388)}),_N_E=e.O()}]);
//# sourceMappingURL=[[...currency]]-3f6bc3bc8dfa287a.js.map